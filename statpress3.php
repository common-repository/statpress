<?php
/**
 * Plugin Name:       StatPress
 * Plugin URI:        https://www.statpress.com
 * Description:       The first real-time plugin dedicated to the management of web traffic statistics. All-new version available!
 * Version:           3.0.0
 * Requires at least: 5.2
 * Requires PHP:      7.2
 * Author:            Daniele Lippi
 * Author URI:        http://www.danielelippi.it
 * License:           GPL v2 or later
 * License URI:       https://www.gnu.org/licenses/gpl-2.0.html
 * Text Domain:       statpress
 */

add_action( 'init', 'dlsp3_fire' );



$sp3_icons = array( 'sp3_logo'=>'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cub25saW5ld2ViZm9udHMuY29tL2ljb24gLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPG1ldGFkYXRhPiBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5vbmxpbmV3ZWJmb250cy5jb20vaWNvbiA8L21ldGFkYXRhPg0KPGc+PHBhdGggZD0iTTk0OS4yLDk5MEgxNzMuM0M4My41LDk5MCwxMCw5MTYuNSwxMCw4MjYuN1Y1MC44QzEwLDI2LjMsMjYuMywxMCw1MC44LDEwYzI0LjUsMCw0MC44LDE2LjMsNDAuOCw0MC44djc3NS44YzAsNDQuOSwzNi43LDgxLjcsODEuNyw4MS43aDc3NS44YzI0LjUsMCw0MC44LDE2LjMsNDAuOCw0MC44Qzk5MCw5NzMuNyw5NzMuNyw5OTAsOTQ5LjIsOTkweiIvPjxwYXRoIGQ9Ik0yMTQuMiw4MjYuN2MtMjQuNSwwLTQwLjgtMTYuMy00MC44LTQwLjhWNTgxLjdjMC0yNC41LDE2LjMtNDAuOCw0MC44LTQwLjhjMjQuNSwwLDQwLjgsMTYuMyw0MC44LDQwLjh2MjA0LjJDMjU1LDgxMC4zLDIzOC43LDgyNi43LDIxNC4yLDgyNi43eiIvPjxwYXRoIGQ9Ik0zNzcuNSw4MjYuN2MtMjQuNSwwLTQwLjgtMTYuMy00MC44LTQwLjhWNDE4LjNjMC0yNC41LDE2LjMtNDAuOCw0MC44LTQwLjhjMjQuNSwwLDQwLjgsMTYuMyw0MC44LDQwLjh2MzY3LjVDNDE4LjMsODEwLjMsNDAyLDgyNi43LDM3Ny41LDgyNi43eiIvPjxwYXRoIGQ9Ik01NDAuOCw4MjYuN2MtMjQuNSwwLTQwLjgtMTYuMy00MC44LTQwLjhWNTAwYzAtMjQuNSwxNi4zLTQwLjgsNDAuOC00MC44YzI0LjUsMCw0MC44LDE2LjMsNDAuOCw0MC44djI4NS44QzU4MS43LDgxMC4zLDU2NS4zLDgyNi43LDU0MC44LDgyNi43eiIvPjxwYXRoIGQ9Ik03MDQuMiw4MjYuN2MtMjQuNSwwLTQwLjgtMTYuMy00MC44LTQwLjh2LTQ5MGMwLTI0LjUsMTYuMy00MC44LDQwLjgtNDAuOGMyNC41LDAsNDAuOCwxNi4zLDQwLjgsNDAuOHY0OTBDNzQ1LDgxMC4zLDcyOC43LDgyNi43LDcwNC4yLDgyNi43eiIvPjxwYXRoIGQ9Ik04NjcuNSw4MjYuN2MtMjQuNSwwLTQwLjgtMTYuMy00MC44LTQwLjh2LTI0NWMwLTI0LjUsMTYuMy00MC44LDQwLjgtNDAuOHM0MC44LDE2LjMsNDAuOCw0MC44djI0NUM5MDguMyw4MTAuMyw4OTIsODI2LjcsODY3LjUsODI2Ljd6Ii8+PC9nPg0KPC9zdmc+',
					'lens' 	  => 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDE4My43OTIgMTgzLjc5MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTgzLjc5MiAxODMuNzkyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNNTQuNzM0LDkuMDUzQzM5LjEyLDE4LjA2NywyNy45NSwzMi42MjQsMjMuMjg0LDUwLjAzOWMtNC42NjcsMTcuNDE1LTIuMjcxLDM1LjYwNiw2Ljc0Myw1MS4yMg0KCWMxMi4wMjMsMjAuODIzLDM0LjQ0MSwzMy43NTksNTguNTA4LDMzLjc1OWM3LjU5OSwwLDE1LjEzOS0xLjMwOCwyMi4yODctMy44MThsMzAuMzY0LDUyLjU5MmwyMS42NS0xMi41bC0zMC4zNTktNTIuNTgzDQoJYzEwLjI1NS04Ljc3NCwxNy42MzgtMjAuNDExLDIxLjIwNy0zMy43M2M0LjY2Ni0xNy40MTUsMi4yNy0zNS42MDUtNi43NDQtNTEuMjJDMTM0LjkxOCwxMi45MzYsMTEyLjQ5OSwwLDg4LjQzMywwDQoJQzc2LjY0NSwwLDY0Ljk5MiwzLjEzLDU0LjczNCw5LjA1M3ogTTEyNS4yOSw0Ni4yNTljNS42NzYsOS44MzEsNy4xODQsMjEuMjg1LDQuMjQ2LDMyLjI1Yy0yLjkzOCwxMC45NjUtOS45NzEsMjAuMTMtMTkuODAyLDI1LjgwNg0KCWMtNi40NjIsMy43MzEtMTMuNzkzLDUuNzAzLTIxLjE5OSw1LjcwM2MtMTUuMTYzLDAtMjkuMjg2LTguMTQ2LTM2Ljg1Ny0yMS4yNTljLTUuNjc2LTkuODMxLTcuMTg0LTIxLjI4NC00LjI0NS0zMi4yNQ0KCWMyLjkzOC0xMC45NjUsOS45NzEtMjAuMTMsMTkuODAyLTI1LjgwN0M3My42OTYsMjYuOTcyLDgxLjAyNywyNSw4OC40MzMsMjVDMTAzLjU5NywyNSwxMTcuNzE5LDMzLjE0NiwxMjUuMjksNDYuMjU5eiIvPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=',
					'Windows' => 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iNDgiIGhlaWdodD0iNDgiCnZpZXdCb3g9IjAgMCA0OCA0OCIKc3R5bGU9IiBmaWxsOiMwMDAwMDA7Ij48cGF0aCBmaWxsPSIjMDBiMGZmIiBkPSJNMjAgMjUuMDI2TDUuMDExIDI1IDUuMDEyIDM3Ljc0NCAyMCAzOS44MTh6TTIyIDI1LjAzTDIyIDQwLjA5NSA0Mi45OTUgNDMgNDMgMjUuMDY2ek0yMCA4LjI1Nkw1IDEwLjM4IDUuMDE0IDIzIDIwIDIzek0yMiA3Ljk3M0wyMiAyMyA0Mi45OTUgMjMgNDIuOTk1IDV6Ij48L3BhdGg+PC9zdmc+',
					'macOS'   => 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjIuNzczIDIyLjc3MyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIuNzczIDIyLjc3MzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0xNS43NjksMGMwLjA1MywwLDAuMTA2LDAsMC4xNjIsMGMwLjEzLDEuNjA2LTAuNDgzLDIuODA2LTEuMjI4LDMuNjc1Yy0wLjczMSwwLjg2My0xLjczMiwxLjctMy4zNTEsMS41NzMNCgkJCWMtMC4xMDgtMS41ODMsMC41MDYtMi42OTQsMS4yNS0zLjU2MUMxMy4yOTIsMC44NzksMTQuNTU3LDAuMTYsMTUuNzY5LDB6Ii8+DQoJCTxwYXRoIGQ9Ik0yMC42NywxNi43MTZjMCwwLjAxNiwwLDAuMDMsMCwwLjA0NWMtMC40NTUsMS4zNzgtMS4xMDQsMi41NTktMS44OTYsMy42NTVjLTAuNzIzLDAuOTk1LTEuNjA5LDIuMzM0LTMuMTkxLDIuMzM0DQoJCQljLTEuMzY3LDAtMi4yNzUtMC44NzktMy42NzYtMC45MDNjLTEuNDgyLTAuMDI0LTIuMjk3LDAuNzM1LTMuNjUyLDAuOTI2Yy0wLjE1NSwwLTAuMzEsMC0wLjQ2MiwwDQoJCQljLTAuOTk1LTAuMTQ0LTEuNzk4LTAuOTMyLTIuMzgzLTEuNjQyYy0xLjcyNS0yLjA5OC0zLjA1OC00LjgwOC0zLjMwNi04LjI3NmMwLTAuMzQsMC0wLjY3OSwwLTEuMDE5DQoJCQljMC4xMDUtMi40ODIsMS4zMTEtNC41LDIuOTE0LTUuNDc4YzAuODQ2LTAuNTIsMi4wMDktMC45NjMsMy4zMDQtMC43NjVjMC41NTUsMC4wODYsMS4xMjIsMC4yNzYsMS42MTksMC40NjQNCgkJCWMwLjQ3MSwwLjE4MSwxLjA2LDAuNTAyLDEuNjE4LDAuNDg1YzAuMzc4LTAuMDExLDAuNzU0LTAuMjA4LDEuMTM1LTAuMzQ3YzEuMTE2LTAuNDAzLDIuMjEtMC44NjUsMy42NTItMC42NDgNCgkJCWMxLjczMywwLjI2MiwyLjk2MywxLjAzMiwzLjcyMywyLjIyYy0xLjQ2NiwwLjkzMy0yLjYyNSwyLjMzOS0yLjQyNyw0Ljc0QzE3LjgxOCwxNC42ODgsMTkuMDg2LDE1Ljk2NCwyMC42NywxNi43MTZ6Ii8+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=',
					'iOS'  => 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjIuNzczIDIyLjc3MyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIuNzczIDIyLjc3MzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0xNS43NjksMGMwLjA1MywwLDAuMTA2LDAsMC4xNjIsMGMwLjEzLDEuNjA2LTAuNDgzLDIuODA2LTEuMjI4LDMuNjc1Yy0wLjczMSwwLjg2My0xLjczMiwxLjctMy4zNTEsMS41NzMNCgkJCWMtMC4xMDgtMS41ODMsMC41MDYtMi42OTQsMS4yNS0zLjU2MUMxMy4yOTIsMC44NzksMTQuNTU3LDAuMTYsMTUuNzY5LDB6Ii8+DQoJCTxwYXRoIGQ9Ik0yMC42NywxNi43MTZjMCwwLjAxNiwwLDAuMDMsMCwwLjA0NWMtMC40NTUsMS4zNzgtMS4xMDQsMi41NTktMS44OTYsMy42NTVjLTAuNzIzLDAuOTk1LTEuNjA5LDIuMzM0LTMuMTkxLDIuMzM0DQoJCQljLTEuMzY3LDAtMi4yNzUtMC44NzktMy42NzYtMC45MDNjLTEuNDgyLTAuMDI0LTIuMjk3LDAuNzM1LTMuNjUyLDAuOTI2Yy0wLjE1NSwwLTAuMzEsMC0wLjQ2MiwwDQoJCQljLTAuOTk1LTAuMTQ0LTEuNzk4LTAuOTMyLTIuMzgzLTEuNjQyYy0xLjcyNS0yLjA5OC0zLjA1OC00LjgwOC0zLjMwNi04LjI3NmMwLTAuMzQsMC0wLjY3OSwwLTEuMDE5DQoJCQljMC4xMDUtMi40ODIsMS4zMTEtNC41LDIuOTE0LTUuNDc4YzAuODQ2LTAuNTIsMi4wMDktMC45NjMsMy4zMDQtMC43NjVjMC41NTUsMC4wODYsMS4xMjIsMC4yNzYsMS42MTksMC40NjQNCgkJCWMwLjQ3MSwwLjE4MSwxLjA2LDAuNTAyLDEuNjE4LDAuNDg1YzAuMzc4LTAuMDExLDAuNzU0LTAuMjA4LDEuMTM1LTAuMzQ3YzEuMTE2LTAuNDAzLDIuMjEtMC44NjUsMy42NTItMC42NDgNCgkJCWMxLjczMywwLjI2MiwyLjk2MywxLjAzMiwzLjcyMywyLjIyYy0xLjQ2NiwwLjkzMy0yLjYyNSwyLjMzOS0yLjQyNyw0Ljc0QzE3LjgxOCwxNC42ODgsMTkuMDg2LDE1Ljk2NCwyMC42NywxNi43MTZ6Ii8+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=',
					'Linux'   => 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTIuNTA0IDBjLS4xNTUgMC0uMzE1LjAwOC0uNDguMDIxLTQuMjI2LjMzMy0zLjEwNSA0LjgwNy0zLjE3IDYuMjk4LS4wNzYgMS4wOTItLjMgMS45NTMtMS4wNSAzLjAyLS44ODUgMS4wNTEtMi4xMjcgMi43NS0yLjcxNiA0LjUyMS0uMjc4LjgzMi0uNDEgMS42ODQtLjI4NyAyLjQ4OWEuNDI0LjQyNCAwIDAgMC0uMTEuMTM1Yy0uMjYuMjY4LS40NS42LS42NjMuODM5LS4xOTkuMTk5LS40ODUuMjY3LS43OTcuNC0uMzEzLjEzNi0uNjU4LjI2OS0uODY0LjY4LS4wOS4xODktLjEzNi4zOTQtLjEzMi42MDIgMCAuMTk5LjAyNy40LjA1NS41MzYuMDU4LjM5OS4xMTYuNzI4LjA0Ljk3LS4yNDkuNjgtLjI4IDEuMTQ1LS4xMDYgMS40ODQuMTc0LjMzNC41MzUuNDcuOTQuNjAxLjgxLjIgMS45MS4xMzUgMi43NzQuNi45MjYuNDY2IDEuODY2LjY3IDIuNjE2LjQ3LjUyNi0uMTE2Ljk3LS40NjQgMS4yMDgtLjk0Ni41ODctLjAwMyAxLjIzLS4yNjkgMi4yNi0uMzM0LjY5OS0uMDU4IDEuNTc0LjI2NyAyLjU3Ny4yLjAyNS4xMzQuMDYzLjE5OC4xMTQuMzMzbC4wMDMuMDAzYy4zOTEuNzc4IDEuMTEzIDEuMTMyIDEuODg0IDEuMDcxLjc3MS0uMDYgMS41OTItLjUzNiAyLjI1Ny0xLjMwNi42MzEtLjc2NSAxLjY4My0xLjA4NCAyLjM3OC0xLjUwMy4zNDgtLjE5OS42MjktLjQ2OS42NDktLjg1My4wMjMtLjQtLjItLjgxMS0uNzE0LTEuMzc2di0uMDk3bC0uMDAzLS4wMDNjLS4xNy0uMi0uMjUtLjUzNS0uMzM4LS45MjYtLjA4NS0uNDAxLS4xODItLjc4Ni0uNDkyLTEuMDQ2aC0uMDAzYy0uMDU5LS4wNTQtLjEyMy0uMDY3LS4xODgtLjEzNWEuMzU3LjM1NyAwIDAgMC0uMTktLjA2NGMuNDMxLTEuMjc4LjI2NC0yLjU1LS4xNzMtMy42OTQtLjUzMy0xLjQxLTEuNDY1LTIuNjM4LTIuMTc1LTMuNDgzLS43OTYtMS4wMDUtMS41NzYtMS45NTctMS41Ni0zLjM2OC4wMjYtMi4xNTIuMjM2LTYuMTMzLTMuNTQ0LTYuMTM5em0uNTI5IDMuNDA1aC4wMTNjLjIxMyAwIC4zOTYuMDYyLjU4NC4xOTguMTkuMTM1LjMzLjMzMi40MzguNTMzLjEwNS4yNTkuMTU4LjQ1OS4xNjYuNzI0IDAtLjAyLjAwNi0uMDQuMDA2LS4wNnYuMTA1YS4wODYuMDg2IDAgMCAxLS4wMDQtLjAyMWwtLjAwNC0uMDI0YTEuODA3IDEuODA3IDAgMCAxLS4xNS43MDYuOTUzLjk1MyAwIDAgMS0uMjEzLjMzNS43MS43MSAwIDAgMC0uMDg4LS4wNDJjLS4xMDQtLjA0NS0uMTk4LS4wNjQtLjI4NC0uMTMzYTEuMzEyIDEuMzEyIDAgMCAwLS4yMi0uMDY2Yy4wNS0uMDYuMTQ2LS4xMzMuMTgzLS4xOTguMDUzLS4xMjguMDgyLS4yNjQuMDg4LS40MDJ2LS4wMmExLjIxIDEuMjEgMCAwIDAtLjA2MS0uNGMtLjA0NS0uMTM0LS4xMDEtLjItLjE4My0uMzMzLS4wODQtLjA2Ni0uMTY3LS4xMzItLjI2Ny0uMTMyaC0uMDE2Yy0uMDkzIDAtLjE3Ni4wMy0uMjYyLjEzMmEuOC44IDAgMCAwLS4yMDUuMzM0IDEuMTggMS4xOCAwIDAgMC0uMDkuNHYuMDE5Yy4wMDIuMDg5LjAwOC4xNzkuMDIuMjY3LS4xOTMtLjA2Ny0uNDM4LS4xMzUtLjYwNy0uMjAyYTEuNjM1IDEuNjM1IDAgMCAxLS4wMTgtLjJ2LS4wMmExLjc3MiAxLjc3MiAwIDAgMSAuMTUtLjc2OCAxLjA4IDEuMDggMCAwIDEgLjQzLS41MzMuOTg1Ljk4NSAwIDAgMSAuNTk0LS4yem0tMi45NjIuMDU5aC4wMzZjLjE0MiAwIC4yNy4wNDguMzk5LjEzNS4xNDYuMTI5LjI2NC4yODguMzQ0LjQ2NS4wOS4xOTkuMTQuNC4xNTMuNjY3di4wMDRjLjAwNy4xMzQuMDA2LjItLjAwMi4yNjZ2LjA4Yy0uMDMuMDA3LS4wNTYuMDE4LS4wODMuMDI0LS4xNTIuMDU1LS4yNzQuMTM1LS4zOTMuMi4wMTItLjA5LjAxMy0uMTguMDAzLS4yNjd2LS4wMTVjLS4wMTItLjEzMy0uMDQtLjItLjA4Mi0uMzMzYS42MTMuNjEzIDAgMCAwLS4xNjYtLjI2Ny4yNDguMjQ4IDAgMCAwLS4xODMtLjA2NGgtLjAyMWMtLjA3MS4wMDYtLjEzLjA0LS4xODYuMTMyYS41NTIuNTUyIDAgMCAwLS4xMi4yNy45NDQuOTQ0IDAgMCAwLS4wMjMuMzN2LjAxNWMuMDEyLjEzNS4wMzcuMi4wOC4zMzQuMDQ2LjEzNC4wOTguMi4xNjYuMjY4LjAxLjAwOS4wMi4wMTguMDM0LjAyNC0uMDcuMDU3LS4xMTcuMDctLjE3Ni4xMzZhLjMwNC4zMDQgMCAwIDEtLjEzMS4wNjggMi42MiAyLjYyIDAgMCAxLS4yNzUtLjQwMiAxLjc3MiAxLjc3MiAwIDAgMS0uMTU1LS42NjcgMS43NTkgMS43NTkgMCAwIDEgLjA4LS42NjggMS40MyAxLjQzIDAgMCAxIC4yODMtLjUzNWMuMTI4LS4xMzMuMjYtLjIuNDE4LS4yem0xLjM3IDEuNzA2Yy4zMzIgMCAuNzMzLjA2NSAxLjIxNi4zOTkuMjkzLjIuNTIzLjI2OSAxLjA1Mi40NjhoLjAwM2MuMjU1LjEzNi40MDUuMjY2LjQ3OC4zOTl2LS4xMzFhLjU3MS41NzEgMCAwIDEgLjAxNi40N2MtLjEyMy4zMS0uNTE2LjY0My0xLjA2My44NDJ2LjAwMmMtLjI2OC4xMzUtLjUwMS4zMzMtLjc3NS40NjUtLjI3Ni4xMzUtLjU4OC4yOTItMS4wMTIuMjY3YTEuMTM5IDEuMTM5IDAgMCAxLS40NDgtLjA2NyAzLjU2NiAzLjU2NiAwIDAgMS0uMzIyLS4xOThjLS4xOTUtLjEzNS0uMzYzLS4zMzItLjYxMi0uNDY1di0uMDA1aC0uMDA1Yy0uNC0uMjQ2LS42MTYtLjUxMi0uNjg2LS43MS0uMDctLjI2OC0uMDA1LS40Ny4xOTMtLjYuMjI0LS4xMzUuMzgtLjI3MS40ODMtLjMzNi4xMDQtLjA3NC4xNDMtLjEwMi4xNzYtLjEzMWguMDAydi0uMDAzYy4xNjktLjIwMi40MzYtLjQ3LjgzOS0uNjAxLjEzOS0uMDM2LjI5NC0uMDY1LjQ2Ni0uMDY1em0yLjggMi4xNDJjLjM1OCAxLjQxNyAxLjE5NiAzLjQ3NSAxLjczNSA0LjQ3My4yODYuNTM0Ljg1NSAxLjY1OSAxLjEwMiAzLjAyNC4xNTYtLjAwNS4zMy4wMTguNTEzLjA2NC42NDYtMS42NzEtLjU0Ni0zLjQ2Ny0xLjA4OS0zLjk2Ni0uMjItLjItLjIzMi0uMzM1LS4xMjMtLjMzNS41OS41MzQgMS4zNjUgMS41NzIgMS42NDYgMi43NTcuMTMuNTM1LjE2IDEuMTA0LjAyMSAxLjY3LjA2Ny4wMjguMTM1LjA2LjIwNS4wNjcgMS4wMzIuNTM0IDEuNDEzLjkzOCAxLjIzIDEuNTM3di0uMDQzYy0uMDYtLjAwMy0uMTIgMC0uMTggMGgtLjAxNmMuMTUxLS40NjctLjE4Mi0uODI1LTEuMDY1LTEuMjI0LS45MTUtLjQtMS42NDYtLjMzNi0xLjc3LjQ2NS0uMDA4LjA0My0uMDEzLjA2Ni0uMDE4LjEzNS0uMDY4LjAyMy0uMTM5LjA1My0uMjA5LjA2NC0uNDMuMjY4LS42NjIuNjY5LS43OTMgMS4xODctLjEzLjUzMy0uMTcgMS4xNTYtLjIwNSAxLjg2OXYuMDAzYy0uMDIuMzM0LS4xNy44MzgtLjMxOSAxLjM1LTEuNSAxLjA3Mi0zLjU4IDEuNTM4LTUuMzQ4LjMzNGEyLjY0NSAyLjY0NSAwIDAgMC0uNDAyLS41MzMgMS40NSAxLjQ1IDAgMCAwLS4yNzUtLjMzM2MuMTgyIDAgLjMzOC0uMDMuNDY1LS4wNjdhLjYxNS42MTUgMCAwIDAgLjMxNC0uMzM0Yy4xMDgtLjI2NyAwLS42OTctLjM0NS0xLjE2My0uMzQ1LS40NjctLjkzMS0uOTk1LTEuNzg4LTEuNTIxLS42My0uNC0uOTg2LS44Ny0xLjE1LTEuMzk2LS4xNjUtLjUzNC0uMTQzLTEuMDg1LS4wMTUtMS42NDUuMjQ1LTEuMDcuODczLTIuMTEgMS4yNzQtMi43NjMuMTA3LS4wNjUuMDM3LjEzNS0uNDA4Ljk3NC0uMzk2Ljc1MS0xLjE0IDIuNDk3LS4xMjIgMy44NTRhOC4xMjMgOC4xMjMgMCAwIDEgLjY0Ny0yLjg3NmMuNTY0LTEuMjc4IDEuNzQzLTMuNTA0IDEuODM2LTUuMjY4LjA0OC4wMzYuMjE3LjEzNS4yODkuMjAyLjIxOC4xMzMuMzguMzMzLjU5LjQ2NS4yMS4yMDEuNDc3LjMzNS44NzYuMzM1LjAzOS4wMDMuMDc1LjAwNi4xMS4wMDYuNDEyIDAgLjczLS4xMzQuOTk3LS4yNjguMjktLjEzNC41Mi0uMzM0Ljc0LS40aC4wMDVjLjQ2Ny0uMTM1LjgzNS0uNDAyIDEuMDQ0LS43em0yLjE4NSA4Ljk1OGMuMDM3LjYuMzQzIDEuMjQ1Ljg4MiAxLjM3Ny41ODguMTM0IDEuNDM0LS4zMzMgMS43OTEtLjc2NWwuMjExLS4wMWMuMzE1LS4wMDcuNTc3LjAxLjg0Ny4yNjhsLjAwMy4wMDNjLjIwOC4xOTkuMzA1LjUzLjM5MS44NzYuMDg1LjQuMTU0Ljc4LjQwOSAxLjA2Ni40ODYuNTI3LjY0NS45MDYuNjM2IDEuMTRsLjAwMy0uMDA3di4wMThsLS4wMDMtLjAxMmMtLjAxNS4yNjItLjE4NS4zOTYtLjQ5OC41OTUtLjYzLjQwMS0xLjc0Ni43MTItMi40NTcgMS41Ny0uNjE4LjczNy0xLjM3IDEuMTQtMi4wMzYgMS4xOTEtLjY2NC4wNTMtMS4yMzctLjItMS41NzQtLjg5OGwtLjAwNS0uMDAzYy0uMjEtLjQtLjEyLTEuMDI1LjA1Ni0xLjY5LjE3Ni0uNjY4LjQyOC0xLjM0NC40NjMtMS44OTcuMDM3LS43MTQuMDc2LTEuMzM1LjE5NS0xLjgxNC4xMi0uNDY1LjMwOC0uNzk3LjY0MS0uOTg0bC4wNDUtLjAyMnptLTEwLjgxNC4wNDloLjAxYy4wNTMgMCAuMTA1LjAwNS4xNTcuMDE0LjM3Ni4wNTUuNzA2LjMzMyAxLjAyMy43NTJsLjkxIDEuNjY0LjAwMy4wMDNjLjI0My41MzMuNzU0IDEuMDY0IDEuMTg5IDEuNjM3LjQzNC41OTguNzcgMS4xMzEuNzI5IDEuNTd2LjAwNmMtLjA1Ny43NDQtLjQ4IDEuMTQ4LTEuMTI1IDEuMjk0LS42NDUuMTM1LTEuNTIuMDAyLTIuMzk1LS40NjQtLjk2OC0uNTM2LTIuMTE4LS40NjktMi44NTctLjYwMi0uMzY5LS4wNjYtLjYxLS4yLS43MjMtLjQtLjExLS4yLS4xMTMtLjYwMi4xMjMtMS4yM3YtLjAwNGwuMDAyLS4wMDNjLjExNy0uMzM0LjAzLS43NTItLjAyNy0xLjExOC0uMDU1LS40MDEtLjA4My0uNzEuMDQzLS45NC4xNi0uMzM0LjM5Ni0uNC42OS0uNTMzLjI5NC0uMTM1LjY0LS4yMDIuOTE1LS40N2guMDAydi0uMDAyYy4yNTYtLjI2OC40NDUtLjYwMS42NjgtLjgzOC4xOS0uMjAxLjM4LS4zMzYuNjYzLS4zMzZ6bTcuMTU5LTkuMDc0Yy0uNDM1LjIwMS0uOTQ1LjUzNS0xLjQ4OC41MzUtLjU0MiAwLS45Ny0uMjY3LTEuMjgtLjQ2Ni0uMTU0LS4xMzQtLjI4LS4yNjgtLjM3My0uMzM1LS4xNjQtLjEzNC0uMTQ0LS4zMzMtLjA3NC0uMzMzLjEwOS4wMTYuMTI5LjEzNC4xOTkuMi4wOTYuMDY2LjIxNS4yLjM2LjMzMy4yOTIuMi42OC40NjcgMS4xNjcuNDY3LjQ4NSAwIDEuMDUzLS4yNjcgMS4zOTgtLjQ2Ni4xOTUtLjEzNS40NDUtLjMzNC42NDgtLjQ2Ny4xNTYtLjEzNi4xNDktLjI2Ny4yNzktLjI2Ny4xMjguMDE2LjAzNC4xMzQtLjE0Ny4zMzJhOC4wOTcgOC4wOTcgMCAwIDEtLjY5LjQ2OHptLTEuMDgyLTEuNTgzVjUuNjRjLS4wMDYtLjAyLjAxMy0uMDQyLjAyOS0uMDUuMDc0LS4wNDMuMTgtLjAyNy4yNi4wMDQuMDYzIDAgLjE2LjA2Ny4xNS4xMzUtLjAwNi4wNDktLjA4NS4wNjYtLjEzNS4wNjYtLjA1NSAwLS4wOTItLjA0My0uMTQxLS4wNjgtLjA1Mi0uMDE4LS4xNDYtLjAwOC0uMTYzLS4wNjV6bS0uNTUxIDBjLS4wMi4wNTgtLjExMy4wNDktLjE2Ni4wNjYtLjA0Ny4wMjUtLjA4Ni4wNjgtLjE0LjA2OC0uMDUgMC0uMTMtLjAyLS4xMzYtLjA2OC0uMDEtLjA2Ni4wODgtLjEzMy4xNS0uMTMzLjA4LS4wMzEuMTg0LS4wNDcuMjU5LS4wMDUuMDE5LjAwOS4wMzYuMDMuMDMuMDV2LjAyaC4wMDN6Ii8+PC9zdmc+',
					'Edge'    => 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjU2cHgiIGhlaWdodD0iMjU2cHgiIHZpZXdCb3g9IjAgMCAyNTYgMjU2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgoJPGRlZnM+CgkJPGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXJHcmFkaWVudC0xIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjYzLjMzNDMiIHkxPSI3NTcuODMiIHgyPSIyNDEuNjE2NSIgeTI9Ijc1Ny44MyIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIC00LjYzIC01ODAuODA5OCkiPgoJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMEM1OUE0Ii8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMxMTRBOEIiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxyYWRpYWxHcmFkaWVudCBpZD0icmFkaWFsR3JhZGllbnQtMSIgY3g9IjE2MS44MyIgY3k9Ijc4OC40MDA4IiByPSI5NS4zOCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwLjk5OTkgMCAwIDAuOTQ5OCAtNC42MjE3IC01NzAuMzg2OCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQkJPHN0b3AgIG9mZnNldD0iMC43MiIgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMDtzdG9wLW9wYWNpdHk6MCIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjk1IiBzdHlsZT0ic3RvcC1jb2xvcjojMDAwMDAwO3N0b3Atb3BhY2l0eTowLjUzIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCQk8L3JhZGlhbEdyYWRpZW50PgoJCTxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyR3JhZGllbnQtMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNTcuNDAxMyIgeTE9IjY4MC41NTYxIiB4Mj0iNDYuMDI3NiIgeTI9IjgwMS44NjgzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgLTQuNjMgLTU4MC44MDk4KSI+CgkJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMxQjlERTIiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC4xNiIgc3R5bGU9InN0b3AtY29sb3I6IzE1OTVERiIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjY3IiBzdHlsZT0ic3RvcC1jb2xvcjojMDY4MEQ3Ii8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDc4RDQiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxyYWRpYWxHcmFkaWVudCBpZD0icmFkaWFsR3JhZGllbnQtMiIgY3g9Ii03NzMuNjM1NyIgY3k9Ijc0Ni43MTQ2IiByPSIxNDMuMjQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMC4xNSAtMC45ODk4IDAuOCAwLjEyIC00MTAuNzE4MiAtNjU2LjM0MTIpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJCTxzdG9wICBvZmZzZXQ9IjAuNzYiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDA7c3RvcC1vcGFjaXR5OjAiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC45NSIgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMDtzdG9wLW9wYWNpdHk6MC41Ii8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCQk8L3JhZGlhbEdyYWRpZW50PgoJCTxyYWRpYWxHcmFkaWVudCBpZD0icmFkaWFsR3JhZGllbnQtMyIgY3g9IjIzMC41OTI2IiBjeT0iLTEwNi4wMzgxIiByPSIyMDIuNDI5OSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtMy45OTk3NTBlLTAyIDAuOTk5OCAtMi4xMjk5IC03Ljk5ODQxNGUtMDIgLTE5MC43NzQ5IC0xOTEuNjM1NCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzM1QzFGMSIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjExIiBzdHlsZT0ic3RvcC1jb2xvcjojMzRDMUVEIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjAuMjMiIHN0eWxlPSJzdG9wLWNvbG9yOiMyRkMyREYiLz4KCQkJPHN0b3AgIG9mZnNldD0iMC4zMSIgc3R5bGU9InN0b3AtY29sb3I6IzJCQzNEMiIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIwLjY3IiBzdHlsZT0ic3RvcC1jb2xvcjojMzZDNzUyIi8+CgkJPC9yYWRpYWxHcmFkaWVudD4KCQk8cmFkaWFsR3JhZGllbnQgaWQ9InJhZGlhbEdyYWRpZW50LTQiIGN4PSI1MzYuMzU2NyIgY3k9Ii0xMTcuNzAyOSIgcj0iOTcuMzQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMC4yOCAwLjk1OTggLTAuNzggMC4yMyAtMS45Mjc5IC00MTAuMzE3OSkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzY2RUI2RSIvPgoJCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojNjZFQjZFO3N0b3Atb3BhY2l0eTowIi8+CgkJPC9yYWRpYWxHcmFkaWVudD4KCTwvZGVmcz4KCTxnPgoJCTxwYXRoIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMSkiIGQ9Ik0yMzEsMTkwLjVjLTMuNCwxLjgtNi45LDMuNC0xMC41LDQuN2MtMTEuNSw0LjMtMjMuNiw2LjUtMzUuOSw2LjVjLTQ3LjMsMC04OC41LTMyLjUtODguNS03NC4zIGMwLjEtMTEuNCw2LjQtMjEuOSwxNi40LTI3LjNjLTQyLjgsMS44LTUzLjgsNDYuNC01My44LDcyLjVjMCw3My45LDY4LjEsODEuNCw4Mi44LDgxLjRjNy45LDAsMTkuOC0yLjMsMjctNC42bDEuMy0wLjQgYzI3LjYtOS41LDUxLTI4LjEsNjYuNi01Mi44YzEuMi0xLjksMC42LTQuMy0xLjItNS41QzIzMy45LDE4OS45LDIzMi4zLDE4OS44LDIzMSwxOTAuNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjM1IiBmaWxsPSJ1cmwoI3JhZGlhbEdyYWRpZW50LTEpIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3ICAgICIgZD0iTTIzMSwxOTAuNWMtMy40LDEuOC02LjksMy40LTEwLjUsNC43IGMtMTEuNSw0LjMtMjMuNiw2LjUtMzUuOSw2LjVjLTQ3LjMsMC04OC41LTMyLjUtODguNS03NC4zYzAuMS0xMS40LDYuNC0yMS45LDE2LjQtMjcuM2MtNDIuOCwxLjgtNTMuOCw0Ni40LTUzLjgsNzIuNSBjMCw3My45LDY4LjEsODEuNCw4Mi44LDgxLjRjNy45LDAsMTkuOC0yLjMsMjctNC42bDEuMy0wLjRjMjcuNi05LjUsNTEtMjguMSw2Ni42LTUyLjhjMS4yLTEuOSwwLjYtNC4zLTEuMi01LjUgQzIzMy45LDE4OS45LDIzMi4zLDE4OS44LDIzMSwxOTAuNXoiLz4KCQk8cGF0aCBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTIpIiBkPSJNMTA1LjcsMjQxLjRjLTguOS01LjUtMTYuNi0xMi44LTIyLjctMjEuM2MtMjYuMy0zNi0xOC40LTg2LjUsMTcuNi0xMTIuOGMzLjgtMi43LDcuNy01LjIsMTEuOS03LjIgYzMuMS0xLjUsOC40LTQuMSwxNS41LTRjMTAuMSwwLjEsMTkuNiw0LjksMjUuNywxM2M0LDUuNCw2LjMsMTEuOSw2LjQsMTguN2MwLTAuMiwyNC41LTc5LjYtODAtNzkuNmMtNDMuOSwwLTgwLDQxLjctODAsNzguMiBjLTAuMiwxOS4zLDQsMzguNSwxMi4xLDU2YzI3LjYsNTguOCw5NC44LDg3LjYsMTU2LjQsNjcuMUMxNDcuNSwyNTYuMSwxMjQuNSwyNTMuMiwxMDUuNywyNDEuNEwxMDUuNywyNDEuNHoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjQxIiBmaWxsPSJ1cmwoI3JhZGlhbEdyYWRpZW50LTIpIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3ICAgICIgZD0iTTEwNS43LDI0MS40Yy04LjktNS41LTE2LjYtMTIuOC0yMi43LTIxLjMgYy0yNi4zLTM2LTE4LjQtODYuNSwxNy42LTExMi44YzMuOC0yLjcsNy43LTUuMiwxMS45LTcuMmMzLjEtMS41LDguNC00LjEsMTUuNS00YzEwLjEsMC4xLDE5LjYsNC45LDI1LjcsMTMgYzQsNS40LDYuMywxMS45LDYuNCwxOC43YzAtMC4yLDI0LjUtNzkuNi04MC03OS42Yy00My45LDAtODAsNDEuNy04MCw3OC4yYy0wLjIsMTkuMyw0LDM4LjUsMTIuMSw1NiBjMjcuNiw1OC44LDk0LjgsODcuNiwxNTYuNCw2Ny4xQzE0Ny41LDI1Ni4xLDEyNC41LDI1My4yLDEwNS43LDI0MS40TDEwNS43LDI0MS40eiIvPgoJCTxwYXRoIGZpbGw9InVybCgjcmFkaWFsR3JhZGllbnQtMykiIGQ9Ik0xNTIuMywxNDguOWMtMC44LDEtMy4zLDIuNS0zLjMsNS43YzAsMi42LDEuNyw1LjEsNC43LDcuMmMxNC40LDEwLDQxLjUsOC43LDQxLjYsOC43IGMxMC43LDAsMjEuMS0yLjksMzAuMy04LjNjMTguOC0xMSwzMC40LTMxLjEsMzAuNC01Mi45YzAuMy0yMi40LTgtMzcuMy0xMS4zLTQzLjlDMjIzLjUsMjMuOSwxNzcuNywwLDEyOCwwQzU4LDAsMSw1Ni4yLDAsMTI2LjIgYzAuNS0zNi41LDM2LjgtNjYsODAtNjZjMy41LDAsMjMuNSwwLjMsNDIsMTAuMWMxNi4zLDguNiwyNC45LDE4LjksMzAuOCwyOS4yYzYuMiwxMC43LDcuMywyNC4xLDcuMywyOS41IEMxNjAuMSwxMzQuMywxNTcuNCwxNDIuMywxNTIuMywxNDguOXoiLz4KCQk8cGF0aCBmaWxsPSJ1cmwoI3JhZGlhbEdyYWRpZW50LTQpIiBkPSJNMTUyLjMsMTQ4LjljLTAuOCwxLTMuMywyLjUtMy4zLDUuN2MwLDIuNiwxLjcsNS4xLDQuNyw3LjJjMTQuNCwxMCw0MS41LDguNyw0MS42LDguNyBjMTAuNywwLDIxLjEtMi45LDMwLjMtOC4zYzE4LjgtMTEsMzAuNC0zMS4xLDMwLjQtNTIuOWMwLjMtMjIuNC04LTM3LjMtMTEuMy00My45QzIyMy41LDIzLjksMTc3LjcsMCwxMjgsMEM1OCwwLDEsNTYuMiwwLDEyNi4yIGMwLjUtMzYuNSwzNi44LTY2LDgwLTY2YzMuNSwwLDIzLjUsMC4zLDQyLDEwLjFjMTYuMyw4LjYsMjQuOSwxOC45LDMwLjgsMjkuMmM2LjIsMTAuNyw3LjMsMjQuMSw3LjMsMjkuNSBDMTYwLjEsMTM0LjMsMTU3LjQsMTQyLjMsMTUyLjMsMTQ4Ljl6Ii8+Cgk8L2c+Cjwvc3ZnPgo=',
					'Android' => 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDUxMi4wMDIgNTEyLjAwMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyLjAwMiA1MTIuMDAyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojQTZEODY0OyIgZD0iTTMwOS40NDYsNTEyYzE3LjExOSwwLDMyLjA0OC0xNC45MjksMzIuMDQ4LTMyLjA0OHYtNzQuODQ2aDIxLjM5OQ0KCQljMTIuODQxLDAsMjEuMzk5LTguNTYxLDIxLjM5OS0yMS4zOTl2LTIxMy43N0gxMjcuNzA4djIxMy43NzJjMCwxMi44MzksOC41NiwyMS4zOTksMjEuMzk5LDIxLjM5OWgyMS40MDF2NzQuODQ2DQoJCWMwLDE3LjExOSwxNC45MjUsMzIuMDQ4LDMyLjA0OCwzMi4wNDhjMTcuMTE3LDAsMzIuMDQ1LTE0LjkyOSwzMi4wNDUtMzIuMDQ4di03NC44NDZIMjc3LjR2NzQuODQ2DQoJCUMyNzcuMzk4LDQ5Ny4wNzEsMjkyLjMyNyw1MTIsMzA5LjQ0Niw1MTJ6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6I0E2RDg2NDsiIGQ9Ik00MzcuNzQsMzgzLjcwOWMxNy4xMTksMCwzMi4wNDUtMTQuOTI3LDMyLjA0NS0zMi4wNDh2LTE0OS42OQ0KCQljMC0xNy4wMjktMTQuOTI1LTMyLjAzNC0zMi4wNDUtMzIuMDM0Yy0xNy4xMjEsMC0zMi4wNDgsMTUuMDA2LTMyLjA0OCwzMi4wMzR2MTQ5LjY5DQoJCUM0MDUuNjkyLDM2OC43OCw0MjAuNjE4LDM4My43MDksNDM3Ljc0LDM4My43MDl6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6I0E2RDg2NDsiIGQ9Ik03NC4yNjEsMzgzLjcwOWMxNy4xMjEsMCwzMi4wNDgtMTQuOTI3LDMyLjA0OC0zMi4wNDh2LTE0OS42OQ0KCQljMC0xNy4wMjktMTQuOTI1LTMyLjAzNC0zMi4wNDgtMzIuMDM0Yy0xNy4xMTksMC0zMi4wNDUsMTUuMDA2LTMyLjA0NSwzMi4wMzR2MTQ5LjY5QzQyLjIxNywzNjguNzgsNTcuMTQyLDM4My43MDksNzQuMjYxLDM4My43MDkNCgkJeiIvPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiNBNkQ4NjQ7IiBkPSJNMzU4LjYxMSwzLjIyOWMtNC4yNzgtNC4zMDUtMTAuNjQ3LTQuMzA1LTE0LjkyNSwwbC0yOC43MDEsMjguNjA1bC0xLjMyNCwxLjMyMg0KCQljLTE3LjAxOC04LjUyMi0zNi4wOTktMTIuNzc4LTU3LjM0Ny0xMi44MTljLTAuMTA0LDAtMC4yMDctMC4wMDMtMC4zMTEtMC4wMDNoLTAuMDAzYy0wLjEwOCwwLTAuMjA3LDAuMDAzLTAuMzE0LDAuMDAzDQoJCWMtMjEuMjQ3LDAuMDQxLTQwLjMyNyw0LjI5Ny01Ny4zNDQsMTIuODE5bC0xLjMyNy0xLjMyMkwxNjguMzE0LDMuMjI5Yy00LjI4MS00LjMwNS0xMC42NDctNC4zMDUtMTQuOTI1LDANCgkJYy00LjI4MSw0LjI4MS00LjI4MSwxMC42MzUsMCwxNC45MTNsMjcuNzYzLDI3Ljc2OGMtOC45NDYsNS45NzMtMTcuMDU4LDEzLjI4Mi0yNC4xMTIsMjEuNjQyDQoJCWMtMTYuODg4LDIwLjAxOC0yNy42NjEsNDYuMDcxLTI5LjE0Miw3NC4yOTljLTAuMDE0LDAuMjk0LTAuMDQzLDAuNTg0LTAuMDU2LDAuODc4Yy0wLjA5MSwxLjkyMi0wLjEzMywzLjg1NC0wLjEzMyw1Ljc5NGgyNTYuNTgzDQoJCWMwLTEuOTM5LTAuMDQ2LTMuODcxLTAuMTMzLTUuNzk0Yy0wLjAxNC0wLjI5NC0wLjA0My0wLjU4NC0wLjA2LTAuODc4Yy0xLjQ3OC0yOC4yMjgtMTIuMjUzLTU0LjI4Mi0yOS4xNDItNzQuMjk3DQoJCWMtNy4wNTEtOC4zNi0xNS4xNjYtMTUuNjY5LTI0LjExMi0yMS42NDJsMjcuNzY2LTI3Ljc2OEMzNjIuODkzLDEzLjg2NCwzNjIuODkzLDcuNTExLDM1OC42MTEsMy4yMjl6IE0yMDIuNTE1LDExMS4xNg0KCQljLTguODUzLDAtMTYuMDMxLTcuMTc3LTE2LjAzMS0xNi4wMzFzNy4xNzctMTYuMDMxLDE2LjAzMS0xNi4wMzFjOC44NTMsMCwxNi4wMzEsNy4xNzcsMTYuMDMxLDE2LjAzMQ0KCQlTMjExLjM2OCwxMTEuMTYsMjAyLjUxNSwxMTEuMTZ6IE0zMDkuNDg1LDExMS4xNmMtOC44NTMsMC0xNi4wMzEtNy4xNzctMTYuMDMxLTE2LjAzMXM3LjE3Ny0xNi4wMzEsMTYuMDMxLTE2LjAzMQ0KCQljOC44NTMsMCwxNi4wMzEsNy4xNzcsMTYuMDMxLDE2LjAzMVMzMTguMzM5LDExMS4xNiwzMDkuNDg1LDExMS4xNnoiLz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K',
					'Safari'  => 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxjaXJjbGUgc3R5bGU9ImZpbGw6Izc4QkFFQjsiIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6IzU5QUFFNzsiIGQ9Ik0yNTYsMGMtMTEuMzE3LDAtMjIuNDYxLDAuNzQ0LTMzLjM5MSwyLjE2N0MzNDguMjE2LDE4LjUzLDQ0NS4yMTcsMTI1LjkzMyw0NDUuMjE3LDI1Ng0KCXMtOTcuMDAyLDIzNy40Ny0yMjIuNjA5LDI1My44MzNDMjMzLjUzOSw1MTEuMjU2LDI0NC42ODMsNTEyLDI1Niw1MTJjMTQxLjM4NSwwLDI1Ni0xMTQuNjE2LDI1Ni0yNTZTMzk3LjM4NSwwLDI1NiwweiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik0yNTUuMzQyLDQ1Ni45MDRjLTExMC43NzksMC0yMDAuOTA0LTkwLjEyNS0yMDAuOTA0LTIwMC45MDRTMTQ0LjU2Myw1NS4wOTYsMjU1LjM0Miw1NS4wOTYNCglTNDU2LjI0NywxNDUuMjIxLDQ1Ni4yNDcsMjU2UzM2Ni4xMjEsNDU2LjkwNCwyNTUuMzQyLDQ1Ni45MDR6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojNzhCQUVCOyIgZD0iTTI1NS4zNDIsNDEyLjM4M0MxNjkuMTEyLDQxMi4zODMsOTguOTYsMzQyLjIzLDk4Ljk2LDI1NlMxNjkuMTEyLDk5LjYxNywyNTUuMzQyLDk5LjYxNw0KCVM0MTEuNzI1LDE2OS43Nyw0MTEuNzI1LDI1NlMzNDEuNTcyLDQxMi4zODMsMjU1LjM0Miw0MTIuMzgzeiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0M2QzVDQjsiIGQ9Ik0yMjMuNjE3LDIyMy40ODlsNjQuMjM2LDY0LjIzNWwtOTIuMDIzLDMwLjY3NWMtMS43ODQsMC41OTQtMy40ODMtMS4xMDMtMi44ODctMi44ODcNCglMMjIzLjYxNywyMjMuNDg5eiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0ZGMzUwMTsiIGQ9Ik0yMjMuNjE3LDIyMy40ODlsOTEuMjgzLTI5LjkyOGMxLjc3Ny0wLjU4MywzLjQ2MywxLjEwMywyLjg4MSwyLjg4MWwtMjkuOTI3LDkxLjI4MkwyMjMuNjE3LDIyMy40ODkNCgl6Ii8+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==',
					'Chrome'  => 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxwYXRoIGZpbGw9IiM0Mjg1RjQiIGQ9Ik0xMS45NzMzMDA1LDE2LjQxNDQ1MTYgQzkuNTk0Mjk1MDksMTYuNDE0NDUxNiA3LjY1ODg0MzQyLDE0LjQ3ODgxMjEgNy42NTg4NDM0MiwxMi4wOTk5OTQ1IEM3LjY1ODg0MzQyLDkuNzIwNzU0MjkgOS41OTQyOTUwOSw3Ljc4NTMwMjYyIDExLjk3MzMwMDUsNy43ODUzMDI2MiBDMTQuMzUyMzA1OSw3Ljc4NTMwMjYyIDE2LjI4Nzk0NTQsOS43MjA3NTQyOSAxNi4yODc5NDU0LDEyLjA5OTk5NDUgQzE2LjI4Nzk5MjQsMTQuNDc4ODEyMSAxNC4zNTIzNTI5LDE2LjQxNDQ1MTYgMTEuOTczMzAwNSwxNi40MTQ0NTE2IEwxMS45NzMzMDA1LDE2LjQxNDQ1MTYgWiIvPgogICAgPHBhdGggZmlsbD0iIzRBQUU0OCIgZD0iTTEzLjc5MTAwNjYsMTcuMTgxMDg5NCBDMTMuMTg3MjQ5NCwxNy40MDA3NTI4IDEyLjU1NDkzNjQsMTcuNTExNjg4MiAxMS45MDY4NDI2LDE3LjUxMTY4ODIgQzEwLjYzNTIxODYsMTcuNTExNjg4MiA5LjM5MzcwMDIyLDE3LjA2NTIyMjUgOC40MTEyOTcyOCwxNi4yNTQ4MTE3IEM3LjYxNDMxODk2LDE1LjU5NzIzMDYgNy4wMjAzMzA4MiwxNC43MzE4MjE4IDYuNjkyOTcyNzcsMTMuNzUwMDI5NCBMNi42OTEyMzUsMTMuNzQ0MjA1NSBMMS45MzY0MTc5Myw1LjUwODU0Mzc3IEMwLjIyODIzODIzMiw4LjEzNTc2ODMgLTAuMzc3ODY3MzIzLDExLjI2ODQwMTcgMC4yMzAxNjM4NjgsMTQuMzQ5MzI0OCBDMC44NDk0NjcwNzIsMTcuNDg3MDMwNiAyLjY1MzMxNzk5LDIwLjE5NTU1NDYgNS4zMDk3MDg4NSwyMS45NzY0ODU3IEM2LjY5MzUzNjM3LDIyLjkwNDA3ODUgOC4yMjY1NzcxNiwyMy41MjI3NzExIDkuODY3MzU5NjEsMjMuODE2MDc4MyBMMTMuNzkxMDA2NiwxNy4xODEwODk0IEwxMy43OTEwMDY2LDE3LjE4MTA4OTQgWiIvPgogICAgPHBhdGggZmlsbD0iI0VBMzkzOSIgZD0iTTIyLjc1OTkxMjgsNi43MDY2NjQ4NyBDMTkuNzkwMzQ3OSwwLjczMTg0MDIxNSAxMi41MzkzNDM0LC0xLjcwNDM3MDY1IDYuNTY0NjU5NjgsMS4yNjUxOTQzMiBDNS4wMTgzMjczMSwyLjAzMzc1Nzc3IDMuNjU5NTgwMDIsMy4xMjM0Nzk2NiAyLjU3NDQxMzg5LDQuNDU2MTYwNDIgTDYuNTkxMDU0OTgsMTEuNDEzNDM1IEM2Ljg1MTcyMDI5LDkuMzkyNjQ0NzcgOC4yNTA0ODMyMiw3LjYwNjI2NTQ3IDEwLjMyMTk5NzUsNi45NTQ2OTYxMyBDMTAuODIxNzcwNCw2Ljc5NzYzOTQxIDExLjM0MTczOSw2LjcxNDAzODY0IDExLjg2NTM3MSw2LjcwNjY2NDg3IEwyMi43NTk5MTI4LDYuNzA2NjY0ODcgWiIvPgogICAgPHBhdGggZmlsbD0iI0ZFRDE0QiIgZD0iTTExLjkyNjQ3NDcsMjQgQzE0LjkzNjQzMSwyNCAxNy44MTcxODE5LDIyLjg3MTIwMTggMjAuMDM2ODI5MiwyMC44MjE4NTU4IEMyMi4yNjgxMjQzLDE4Ljc2MTk4OTMgMjMuNjIzMTYxMiwxNS45NTg4Mjc0IDIzLjg1MjMxMTgsMTIuOTI5MDA0MSBDMjMuOTgzMzQ5LDExLjE5Mzc3MTYgMjMuNzI2MTU5Miw5LjQxNzExNDQzIDIzLjEwODIxODEsNy43ODUzMDI2MiBMMTUuMjUyMDk0NCw3Ljc4NTMwMjYyIEMxNi41NzM4Nzg4LDguODMxNjI3MjYgMTcuMzQ5NDQwMywxMC40MzA2MDkzIDE3LjM0MTY5MDgsMTIuMTI1MDI3OCBDMTcuMzM2MDU0OCwxMy4zNDQ5ODg0IDE2LjkxNzc2OTIsMTQuNTQzOTA3OSAxNi4xNTk4NjcyLDE1LjUwNjQ5MDkgTDExLjE1MTg1MjUsMjMuOTc1MTA3NiBDMTEuNDA5NzkzOCwyMy45OTE2Mzk5IDExLjY2OTY2MDYsMjQgMTEuOTI2MDUyLDI0IEwxMS45MjY0NzQ3LDI0IEwxMS45MjY0NzQ3LDI0IFoiLz4KICA8L2c+Cjwvc3ZnPgo=',
					'Firefox' => 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTE1MDBweCIgaGVpZ2h0PSI1MTUwMHB4IiB2aWV3Qm94PSIwIDAgNTE1MDAgNTE1MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxyYWRpYWxHcmFkaWVudCBpZD0iYiIgY3g9Ijg3LjQlIiBjeT0iLTEyLjklIiByPSIxMjglIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC44IDAgMCAxIC4xOCAuMTMpIj48c3RvcCBvZmZzZXQ9Ii4xMyIgc3RvcC1jb2xvcj0iI2ZmYmQ0ZiIvPjxzdG9wIG9mZnNldD0iLjI4IiBzdG9wLWNvbG9yPSIjZmY5ODBlIi8+PHN0b3Agb2Zmc2V0PSIuNDciIHN0b3AtY29sb3I9IiNmZjM3NTAiLz48c3RvcCBvZmZzZXQ9Ii43OCIgc3RvcC1jb2xvcj0iI2ViMDg3OCIvPjxzdG9wIG9mZnNldD0iLjg2IiBzdG9wLWNvbG9yPSIjZTUwMDgwIi8+PC9yYWRpYWxHcmFkaWVudD48cmFkaWFsR3JhZGllbnQgaWQ9ImQiIGN4PSI0OSUiIGN5PSI0MCUiIHI9IjEyOCUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLjgyIDAgMCAxIC4wOSAwKSI+PHN0b3Agb2Zmc2V0PSIuMyIgc3RvcC1jb2xvcj0iIzk2MGUxOCIvPjxzdG9wIG9mZnNldD0iLjM1IiBzdG9wLWNvbG9yPSIjYjExOTI3IiBzdG9wLW9wYWNpdHk9Ii43NCIvPjxzdG9wIG9mZnNldD0iLjQzIiBzdG9wLWNvbG9yPSIjZGIyOTNkIiBzdG9wLW9wYWNpdHk9Ii4zNCIvPjxzdG9wIG9mZnNldD0iLjUiIHN0b3AtY29sb3I9IiNmNTMzNGIiIHN0b3Atb3BhY2l0eT0iLjEiLz48c3RvcCBvZmZzZXQ9Ii41MyIgc3RvcC1jb2xvcj0iI2ZmMzc1MCIgc3RvcC1vcGFjaXR5PSIwIi8+PC9yYWRpYWxHcmFkaWVudD48cmFkaWFsR3JhZGllbnQgaWQ9ImUiIGN4PSI0OCUiIGN5PSItMTIlIiByPSIxNDAlIj48c3RvcCBvZmZzZXQ9Ii4xMyIgc3RvcC1jb2xvcj0iI2ZmZjQ0ZiIvPjxzdG9wIG9mZnNldD0iLjUzIiBzdG9wLWNvbG9yPSIjZmY5ODBlIi8+PC9yYWRpYWxHcmFkaWVudD48cmFkaWFsR3JhZGllbnQgaWQ9ImYiIGN4PSIyMi43NiUiIGN5PSIxMTAuMTElIiByPSIxMDAlIj48c3RvcCBvZmZzZXQ9Ii4zNSIgc3RvcC1jb2xvcj0iIzNhOGVlNiIvPjxzdG9wIG9mZnNldD0iLjY3IiBzdG9wLWNvbG9yPSIjOTA1OWZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjYzEzOWU2Ii8+PC9yYWRpYWxHcmFkaWVudD48cmFkaWFsR3JhZGllbnQgaWQ9ImgiIGN4PSI1MiUiIGN5PSIzMyUiIHI9IjU5JSIgZ3JhZGllbnRUcmFuc2Zvcm09InNjYWxlKC45IDEpIj48c3RvcCBvZmZzZXQ9Ii4yMSIgc3RvcC1jb2xvcj0iIzkwNTlmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiM2ZTAwOGIiIHN0b3Atb3BhY2l0eT0iLjYiLz48L3JhZGlhbEdyYWRpZW50PjxyYWRpYWxHcmFkaWVudCBpZD0iaSIgY3g9IjIxMCUiIGN5PSItMTAwJSIgcj0iMjkwJSI+PHN0b3Agb2Zmc2V0PSIuMSIgc3RvcC1jb2xvcj0iI2ZmZTIyNiIvPjxzdG9wIG9mZnNldD0iLjc5IiBzdG9wLWNvbG9yPSIjZmY3MTM5Ii8+PC9yYWRpYWxHcmFkaWVudD48cmFkaWFsR3JhZGllbnQgaWQ9ImoiIGN4PSI4NCUiIGN5PSItNDElIiByPSIxODAlIj48c3RvcCBvZmZzZXQ9Ii4xMSIgc3RvcC1jb2xvcj0iI2ZmZjQ0ZiIvPjxzdG9wIG9mZnNldD0iLjQ2IiBzdG9wLWNvbG9yPSIjZmY5ODBlIi8+PHN0b3Agb2Zmc2V0PSIuNzIiIHN0b3AtY29sb3I9IiNmZjM2NDciLz48c3RvcCBvZmZzZXQ9Ii45IiBzdG9wLWNvbG9yPSIjZTMxNTg3Ii8+PC9yYWRpYWxHcmFkaWVudD48cmFkaWFsR3JhZGllbnQgaWQ9ImsiIGN4PSIxNi4xJSIgY3k9Ii0xOC42JSIgcj0iMzQ4LjglIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC4xMDQ1MyAuNDY3NDMgLS45OTQ1MiAuMDQ5MTMgLS4wNSAtLjI2KSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmNDRmIi8+PHN0b3Agb2Zmc2V0PSIuMyIgc3RvcC1jb2xvcj0iI2ZmOTgwZSIvPjxzdG9wIG9mZnNldD0iLjU3IiBzdG9wLWNvbG9yPSIjZmYzNjQ3Ii8+PHN0b3Agb2Zmc2V0PSIuNzQiIHN0b3AtY29sb3I9IiNlMzE1ODciLz48L3JhZGlhbEdyYWRpZW50PjxyYWRpYWxHcmFkaWVudCBpZD0ibCIgY3g9IjE4LjklIiBjeT0iLTQyLjUlIiByPSIyMzguNCUiPjxzdG9wIG9mZnNldD0iLjE0IiBzdG9wLWNvbG9yPSIjZmZmNDRmIi8+PHN0b3Agb2Zmc2V0PSIuNDgiIHN0b3AtY29sb3I9IiNmZjk4MGUiLz48c3RvcCBvZmZzZXQ9Ii42NiIgc3RvcC1jb2xvcj0iI2ZmMzY0NyIvPjxzdG9wIG9mZnNldD0iLjkiIHN0b3AtY29sb3I9IiNlMzE1ODciLz48L3JhZGlhbEdyYWRpZW50PjxyYWRpYWxHcmFkaWVudCBpZD0ibSIgY3g9IjE1OS4zJSIgY3k9Ii00NC43MiUiIHI9IjMxMy4xJSI+PHN0b3Agb2Zmc2V0PSIuMDkiIHN0b3AtY29sb3I9IiNmZmY0NGYiLz48c3RvcCBvZmZzZXQ9Ii42MyIgc3RvcC1jb2xvcj0iI2ZmOTgwZSIvPjwvcmFkaWFsR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iODcuMjUlIiB4Mj0iOS40JSIgeTE9IjE1LjUlIiB5Mj0iOTMuMSUiPjxzdG9wIG9mZnNldD0iLjA1IiBzdG9wLWNvbG9yPSIjZmZmNDRmIi8+PHN0b3Agb2Zmc2V0PSIuMzciIHN0b3AtY29sb3I9IiNmZjk4MGUiLz48c3RvcCBvZmZzZXQ9Ii41MyIgc3RvcC1jb2xvcj0iI2ZmMzY0NyIvPjxzdG9wIG9mZnNldD0iLjciIHN0b3AtY29sb3I9IiNlMzE1ODciLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0ibiIgeDE9IjgwJSIgeDI9IjE4JSIgeTE9IjE0JSIgeTI9Ijg0JSI+PHN0b3Agb2Zmc2V0PSIuMTciIHN0b3AtY29sb3I9IiNmZmY0NGYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9Ii42IiBzdG9wLWNvbG9yPSIjZmZmNDRmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGlkPSJjIiBkPSJNNDc4NzAgMTY3MzVjLTEwNDQtMjUxMi0zMTYwLTUyMjQtNDgyMC02MDgyIDEzNTIgMjY1MCAyMTM0IDUzMTAgMjQzMyA3Mjk0IDAtNiAyIDUgNCAyMmw0IDI2YzIyNjggNjE0NyAxMDMyIDEyMzk4LTc0OCAxNjIxOC0yNzU0IDU5MTAtOTQyMCAxMTk2Ny0xOTg1NyAxMTY3MC0xMTI3Ni0zMTgtMjEyMTAtODY4My0yMzA2NC0xOTY0My0zMzgtMTcyOCAwLTI2MDUgMTcwLTQwMDgtMjA3IDEwODAtMjg2IDEzOTQtMzkwIDMzMTVsLTIgMTIzYzAgMTMyNzAgMTA3NjAgMjQwMzAgMjQwMzIgMjQwMzAgMTE4ODcgMCAyMTc1Ni04NjMwIDIzNjkwLTE5OTYzbDExMC05MjdjNDc3LTQxMjAtNTMtODQ1My0xNTYwLTEyMDc1eiIvPjxwYXRoIGlkPSJnIiBkPSJNMjU2NzcgMjEwNTBjLTQwIDU5OC0yMTUwIDI2NjAtMjg5MCAyNjYwLTY4MzQgMC03OTQzIDQxMzMtNzk0MyA0MTMzIDMwMyAzNDgwIDI3MjYgNjM0OCA1NjYwIDc4NjUgMTM0IDcwIDI3MCAxMzAgNDA1IDE5M2ExMzI3NyAxMzI3NyAwIDAwNzA2IDI4OSAxMDY3NCAxMDY3NCAwIDAwMzEyNyA2MDNjMTE5NzggNTYyIDE0MzAwLTE0MzIwIDU2NTUtMTg2NDAgMjIxMy0zODUgNDUxMCA1MDUgNTc5NCAxNDA3LTIxMDAtMzY3Mi02MDI1LTYxNTAtMTA1MzAtNjE1MC0yODUgMC01NjQgMjQtODQ0IDQzYTEyMDI1IDEyMDI1IDAgMDAtNjYxNCAyNTQ5YzM2NiAzMTAgNzgwIDcyNCAxNjUwIDE1ODMgMTYzMCAxNjA2IDU4MTMgMzI3MCA1ODIyIDM0NjV6Ii8+PHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTQ3ODcwIDE2NzM1Yy0xMDQ0LTI1MTItMzE2MC01MjI0LTQ4MjAtNjA4MiAxMzUyIDI2NTAgMjEzNCA1MzEwIDI0MzMgNzI5NGw1IDQwYy0yNzE4LTY3NzMtNzMyNS05NTA1LTExMDg4LTE1NDUybC01NjYtOTIwYTczNzIgNzM3MiAwIDAxLTI2NS00OTcgNDM3MCA0MzcwIDAgMDEtMzU5LTk1MCA2MyA2MyAwIDAwLTU1LTY1IDgyIDgyIDAgMDAtNDUgMGwtMTIgNy0xNyAxMCAxMC0xNGMtNjAzNyAzNTM2LTgwODUgMTAwNzYtODI3NCAxMzM1MGExMjAyNSAxMjAyNSAwIDAwLTY2MTQgMjU0OCA3MTM2IDcxMzYgMCAwMC02MjItNDcwIDExMTM0IDExMTM0IDAgMDEtNjgtNTg3M2MtMjQ2OCAxMTI0LTQzOTAgMjkwMC01Nzg1IDQ0NzBoLTEwYy05NTMtMTIwNi04ODYtNTE4Ny04MzItNjAxOC0xMC01Mi03MTAgMzYzLTgwMiA0MjVhMTc1MDcgMTc1MDcgMCAwMC0yMzQ5IDIwMTIgMjEwNDggMjEwNDggMCAwMC0yMjQ0IDI2OTJsLTEgM3YtM2EyMDI4NCAyMDI4NCAwIDAwLTMyMjUgNzI4MGwtMzIgMTYwYTM5NzAwIDM5NzAwIDAgMDAtMjM3IDE1MDBsLTUgNTJhMjI5MDcgMjI5MDcgMCAwMC0zOTAgMzMxNmwtMSAxMjBjMCAxMzI3MCAxMDc2MCAyNDAzMCAyNDAzMiAyNDAzMCAxMTg4NyAwIDIxNzU2LTg2MzAgMjM2OTAtMTk5NjNsMTEwLTkyN2M0NzctNDEyMC01My04NDUzLTE1NjAtMTIwNzV6TTIwMTcwIDM1NTQ1YzExMyA1MyAyMjAgMTEyIDMzNCAxNjRsMTYgMTBhMTI2MjAgMTI2MjAgMCAwMS0zNTAtMTc0em01NTA2LTE0NDkzem0xOTgxMy0zMDYwbC0zLTIzIDQgMjZ6Ii8+PHVzZSBmaWxsPSJ1cmwoI2IpIiB4bGluazpocmVmPSIjYyIvPjx1c2UgZmlsbD0idXJsKCNkKSIgeGxpbms6aHJlZj0iI2MiLz48cGF0aCBmaWxsPSJ1cmwoI2UpIiBkPSJNMzYxOTIgMTk1NjBsMTUwIDExMGExMzA3MCAxMzA3MCAwIDAwLTIyMzEtMjkxMUMyNjY0MCA5MjkwIDMyMTUwIDU2MyAzMzA4MCAxMjBsMTAtMTNjLTYwMzcgMzUzNS04MDg1IDEwMDc2LTgyNzMgMTMzNDggMjgwLTIwIDU2MC00MyA4NDQtNDMgNDUwNSAwIDg0MzAgMjQ3NyAxMDUzMCA2MTUweiIvPjx1c2UgZmlsbD0idXJsKCNmKSIgeGxpbms6aHJlZj0iI2ciLz48dXNlIGZpbGw9InVybCgjaCkiIHhsaW5rOmhyZWY9IiNnIi8+PHBhdGggZmlsbD0idXJsKCNpKSIgZD0iTTE3MDgzIDE1MjA0YTI0NDA0IDI0NDA0IDAgMDE0OTggMzMwIDExMTM0IDExMTM0IDAgMDEtNjctNTg3NGMtMjQ3MCAxMTI1LTQzOTAgMjkwMC01Nzg1IDQ0NzAgMTE1LTMgMzYwMC02NiA1MzU0IDEwNzR6Ii8+PHBhdGggZmlsbD0idXJsKCNqKSIgZD0iTTE4MjIgMjYyNDBjMTg1NSAxMDk2MCAxMTc4OCAxOTMyNSAyMzA2MyAxOTY0NCAxMDQzNyAyOTYgMTcxMDQtNTc2MiAxOTg1OC0xMTY3MCAxNzgwLTM4MjAgMzAxNi0xMDA3MCA3NDgtMTYyMTh2LTJsLTQtMjRjLTItMTctNC0yOC00LTIybDUgNDBjODUzIDU1NjYtMTk4MCAxMDk1OC02NDA1IDE0NjA0bC0xMyAzMGMtODYyNSA3MDIzLTE2ODc4IDQyMzctMTg1NTAgMzA5N2ExNDQxMCAxNDQxMCAwIDAxLTM1MC0xNzRjLTUwMjgtMjQwMy03MTA1LTY5ODQtNjY2MC0xMDkxMy00MjQ1IDAtNTY5My0zNTgwLTU2OTMtMzU4MHMzODEyLTI3MTggODgzNi0zNTVjNDY1MyAyMTkwIDkwMjMgMzU1IDkwMjMgMzU0LTEwLTE5NS00MTkyLTE4NjAtNTgyMi0zNDY1LTg3Mi04NjAtMTI4NS0xMjcyLTE2NTItMTU4M2E3MTM2IDcxMzYgMCAwMC02MjItNDcwIDI4MjkzIDI4MjkzIDAgMDAtNDk4LTMzMGMtMTc1My0xMTQwLTUyNDAtMTA3Ni01MzU1LTEwNzNoLTEwYy05NTMtMTIwNy04ODYtNTE4OC04MzItNjAyMC0xMC01MC03MTAgMzYzLTgwMiA0MjZhMTc1MDcgMTc1MDcgMCAwMC0yMzQ5IDIwMTIgMjEwNDggMjEwNDggMCAwMC0yMjQ0IDI2OTJsLTEgM3YtM2EyMDI4NCAyMDI4NCAwIDAwLTMyMjUgNzI4MGMtMTAgNTItODY1IDM3ODQtNDQ0IDU3MjB6Ii8+PHBhdGggZmlsbD0idXJsKCNrKSIgZD0iTTM0MTEwIDE2NzYwYTEzMDcwIDEzMDcwIDAgMDEyMjMxIDI5MTBsMzYwIDI5NmM1NDUwIDUwMjAgMjU5NCAxMjEyMCAyMzgwIDEyNjI2IDQ0MjYtMzY0NiA3MjU4LTkwMzggNjQwNS0xNDYwNC0yNzE2LTY3NzQtNzMyMy05NTA2LTExMDg2LTE1NDUzbC01NjYtOTIwYTczNzIgNzM3MiAwIDAxLTI2NS00OTcgNDM3MCA0MzcwIDAgMDEtMzU5LTk1MCA2MyA2MyAwIDAwLTU1LTY1IDgyIDgyIDAgMDAtNDUgMGwtMTIgNy0xNyAxMGMtOTMwIDQ0My02NDQwIDkxNzAgMTAzMCAxNjY0MHoiLz48cGF0aCBmaWxsPSJ1cmwoI2wpIiBkPSJNMzY3MDIgMTk5NjVhNDc0MyA0NzQzIDAgMDAtMzYwLTI5NWwtMTUwLTExMGMtMTI4My05MDAtMzU4MC0xNzkyLTU3OTQtMTQwNyA4NjQ0IDQzMjIgNjMyMyAxOTIwMy01NjU1IDE4NjQwYTEwNjc0IDEwNjc0IDAgMDEtMzEyNy02MDMgMTM0NTEgMTM0NTEgMCAwMS03MDYtMjg5IDkwNjQgOTA2NCAwIDAxLTQwNS0xOTNsMTYgMTBjMTY3MCAxMTQwIDk5MjQgMzkyNSAxODU1MC0zMDk3bDEzLTMwYzIxMy01MDYgMzA2OC03NjA2LTIzODAtMTI2MjZ6Ii8+PHBhdGggZmlsbD0idXJsKCNtKSIgZD0iTTE0ODQ0IDI3ODQ0czExMTAtNDEzMyA3OTQzLTQxMzNjNzQwIDAgMjg1MC0yMDYyIDI4OTAtMjY2MHMtNDM3MCAxODM2LTkwMjMtMzU0Yy01MDI0LTIzNjMtODgzNiAzNTQtODgzNiAzNTRzMTQ0OCAzNTgwIDU2OTMgMzU4MGMtNDQ1IDM5MzAgMTYzMiA4NTEwIDY2NjAgMTA5MTMgMTEzIDUzIDIxOCAxMTIgMzM0IDE2NC0yOTM1LTE1MTctNTM1OC00Mzg0LTU2NjAtNzg2NXoiLz48cGF0aCBmaWxsPSJ1cmwoI24pIiBkPSJNNDc4NzAgMTY3MzVjLTEwNDQtMjUxMi0zMTYwLTUyMjQtNDgyMC02MDgyIDEzNTIgMjY1MCAyMTM0IDUzMTAgMjQzMyA3Mjk0bDUgNDBjLTI3MTgtNjc3My03MzI1LTk1MDUtMTEwODgtMTU0NTJsLTU2Ni05MjBhNzM3MiA3MzcyIDAgMDEtMjY1LTQ5NyA0MzcwIDQzNzAgMCAwMS0zNTktOTUwIDYzIDYzIDAgMDAtNTUtNjUgODIgODIgMCAwMC00NSAwbC0xMiA3LTE3IDEwIDEwLTE0Yy02MDM3IDM1MzYtODA4NSAxMDA3Ni04Mjc0IDEzMzUwIDI4MC0yMCA1NjAtNDMgODQ1LTQzIDQ1MDUgMCA4NDMwIDI0NzcgMTA1MzAgNjE0OC0xMjg0LTkwMC0zNTgwLTE3OTItNTc5NS0xNDA3IDg2NDQgNDMyMiA2MzIzIDE5MjAzLTU2NTUgMTg2NDBhMTA2NzQgMTA2NzQgMCAwMS0zMTI3LTYwMyAxMzQ1MSAxMzQ1MSAwIDAxLTcwNi0yODkgOTA2NCA5MDY0IDAgMDEtNDA1LTE5M2wxNyAxMGExNDQxMCAxNDQxMCAwIDAxLTM1MC0xNzRjMTEyIDUzIDIxOCAxMTIgMzMzIDE2NC0yOTM1LTE1MTctNTM1OC00Mzg0LTU2NjAtNzg2NSAwIDAgMTEwOC00MTMzIDc5NDItNDEzMyA3NDAgMCAyODUwLTIwNjIgMjg5MC0yNjYwLTEwLTE5NS00MTkwLTE4NjAtNTgyMi0zNDY1LTg3MC04NjAtMTI4NS0xMjcyLTE2NTAtMTU4M2E3MTM2IDcxMzYgMCAwMC02MjMtNDcwIDExMTM0IDExMTM0IDAgMDEtNjctNTg3M2MtMjQ3MCAxMTI0LTQzOTAgMjkwMC01Nzg1IDQ0NzBoLTEwYy05NTMtMTIwNy04ODYtNTE4Ny04MzItNjAyMC0xMC01MC03MTAgMzYzLTgwMiA0MjZhMTc1MDcgMTc1MDcgMCAwMC0yMzQ5IDIwMTIgMjEwNDggMjEwNDggMCAwMC0yMjQzIDI2OTJsLTEgM3YtM2EyMDI4NCAyMDI4NCAwIDAwLTMyMjUgNzI4MGwtMzIgMTYwYTM5Nzg3IDM5Nzg3IDAgMDAtMjc3IDE1MTVjLTIgMTggMi0xNyAwIDBhMjc5NTYgMjc5NTYgMCAwMC0zNTUgMzM1M2wtMyAxMjJjMCAxMzI3MCAxMDc2MCAyNDAzMCAyNDAzMiAyNDAzMCAxMTg4NyAwIDIxNzU2LTg2MzAgMjM2OTAtMTk5NjNsMTEwLTkyN2M0NzctNDEyMC01My04NDUzLTE1NjAtMTIwNzV6bS0yMzg0IDEyMzRsNCAyNnYtMmwtNC0yNHoiLz48L3N2Zz4=',
					'Custom'  => 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIHN0eWxlPSJmaWxsOiMyNUI2RDI7IiBkPSJNMCwyNjAuOTA4bDE3NC42NDgtODEuMTM2djM4LjU2OGwtMTMyLjA4LDU3Ljg0OHYwLjcyOGwxMzIuMDgsNTcuODQ4djM4LjU2OEwwLDI5Mi4yMTJWMjYwLjkwOHoiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiM0MTVFNzI7IiBkPSJNMjAxLjYsMzg3LjlsNzcuODY0LTI2My44aDM2Ljc1MkwyMzguNCwzODcuOUgyMDEuNnoiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiNFMDRGNUY7IiBkPSJNNTEyLDI5My4yODRMMzM3LjM1MiwzNzMuMzR2LTM4LjU2OGwxMzQuOTkyLTU3Ljg0OHYtMC43MjhMMzM3LjM1MiwyMTguMzR2LTM4LjU2OEw1MTIsMjU5LjgyOA0KCVYyOTMuMjg0eiIvPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=',
				);


function dlsp3_message($msg,$error = false) {
    ?>
    <div class="<?php echo $error ? 'error' : 'updated'; ?> notice">
        <p><?php echo dlsp3_clean($msg); ?></p>
    </div>
    <?php
}


function dlsp3_tra($text,$opt = '') {
	return esc_html($text);
}


# array_sum(array_map('filesize', glob('./src/*.php')));
function dlsp3_dirsize($dir) {
    if(is_file($dir)) { return array('size'=>filesize($dir),'howmany'=>0, 'howmany_files'=>1); }
    if($dh=opendir($dir)) {
        $size = 0;
        $n = 0;
        $n_files = 0;
        while(($file=readdir($dh))!==false) {
            if($file=='.' || $file=='..') continue;
            $n++;
            $data = dlsp3_dirsize($dir.'/'.$file);
            $size += $data['size'];
            $n += $data['howmany'];
            $n_files += $data['howmany_files'];
        }
        closedir($dh);
        return array('size'=>$size,'howmany'=>$n,'howmany_files'=>$n_files);
    } 
    return array('size'=>0,'howmany'=>0,'howmany_files'=>0);
}


function dlsp3_clean( $var ) {
    if ( is_array( $var ) ) {
        return array_map( 'dlsp3_clean', $var );
    } else {
        return is_scalar( $var ) ? sanitize_text_field( $var ) : $var;
    }
}


function dlsp3_fire() {
	$data = dlsp3_getdata();
	if($data) {
		$path = dlsp3_todaypath();
		if (!file_exists($path)) {
    		mkdir($path, 0777, true);
		}
		$rk = dlsp3_formatrecord_JSON($data);
		$open = @fopen(dlsp3_todayfile(), "a");
		$write = @fputs($open, $rk . "\n");
 		@fclose($open);
 	}
}

function dlsp3_workpath() {
    $upload_dir = wp_get_upload_dir();
    $path = trailingslashit( $upload_dir['basedir'] ) . 'statpress3';
    if (!file_exists($path)) {
        mkdir($path . '/data', 0777, true);
        file_put_contents($path . '/index.html','');
    }
    return $path . '/';
}

function dlsp3_datapath() {
	return dlsp3_workpath() . "data/";
}

function dlsp3_todaypath() {
	return dlsp3_datapath() . date("Y/m") . '/';
}

function dlsp3_todayfile() {
	return dlsp3_todaypath() . date('d') . ".jsonl";
}

function dlsp3_blackfile() {
	return dlsp3_workpath() . "blacklist.json";
}


function dlsp3_getdata() {
	$r = array();

	$valid = true;

	// Time
	$r['date']  = date("Ymd");
	$r['time']  = date("H:i:s");

	// IP
    $r['ip'] = $_SERVER['REMOTE_ADDR'];

    // URL (requested)
    $urlRequested = (isset($_SERVER['QUERY_STRING']) ? $_SERVER['QUERY_STRING'] : '' );
	if ( $urlRequested == "" ) { // SEO problem!
	    $urlRequested = (isset($_SERVER["REQUEST_URI"]) ? $_SERVER["REQUEST_URI"] : '' );
	}
	if(substr($urlRequested,0,2) == '/?') { $urlRequested=substr($urlRequested,2); }
	if($urlRequested == '/') { $urlRequested=''; }
	$r['url'] = $urlRequested;

	$r['referrer'] = (isset($_SERVER['HTTP_REFERER']) ? htmlentities($_SERVER['HTTP_REFERER']) : '');
	$r['useragent'] = (isset($_SERVER['HTTP_USER_AGENT']) ? dlsp3_clean($_SERVER['HTTP_USER_AGENT']) : '');

	preg_match_all('/([a-z]{1,8}(-[a-z]{1,8})?)\s*(;\s*q\s*=\s*(1|0\.[0-9]+))?/i', $_SERVER['HTTP_ACCEPT_LANGUAGE'], $lang_parse);
	$r['ll'] = @$lang_parse[0][0];
	$r['postid'] = url_to_postid( "http://".$_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'] );

	if(is_user_logged_in()) {
		$r['u'] = get_current_user_id();
	}

	$r = dlsp3_cleandata($r);

	return $r;
}


function dlsp3_formatrecord_JSON($r) {
	return json_encode((array)$r);
}


function dlsp3_cleandata($r) {
	$valid = true;
	// clean url
	$bad_strings = array('.ico$',".css$",".js$","wp-admin","doing_wp_cron=");
	foreach ($bad_strings as $b) {
		if (preg_match("/".$b."/", $r['url'])) { $valid = false; }
	}
	// clean referrer
	$bad_strings = array('wp-admin');
	foreach ($bad_strings as $b) {
		if (preg_match("/".$b."/", $r['referrer'])) { $valid = false; }
	}

	return ($valid ? $r : array());
}



function dlsp3_monthname($n) {
	$res = '';
	if($n >= 1 && $n <= 12) {
		$dt = new DateTime("2022-" . $n . "-01");
		$res = $dt->format('F');
	}
	return dlsp3_tra($res);
}


#
# admin support!
#

add_action( 'admin_menu', 'dlsp3_menu' );


function dlsp3_menu() {
	$icon = 'dashicons-chart-bar';
	//$icon = $sp3_icons['sp3_logo'];
	add_menu_page( 'StatPress3', 'StatPress3', 'manage_options', 'statpress3', 'dlsp3_dataviewer',$icon);
	add_submenu_page('statpress3', 'Real time journal', 'Real time journal', 'manage_options', 'dlsp3_dataviewer', 'dlsp3_dataviewer');
    add_submenu_page('statpress3', 'Tops', 'Tops', 'manage_options', 'dlsp3_tops', 'dlsp3_tops');
	add_submenu_page('statpress3', 'Searches', 'Searches', 'manage_options', 'dlsp3_searches', 'dlsp3_searches');
	add_submenu_page('statpress3', 'Spy', 'Spy', 'manage_options', 'dlsp3_spy', 'dlsp3_spy');
	add_submenu_page('statpress3', 'Blacklisted', 'Blacklisted', 'manage_options', 'dlsp3_blacklisted', 'dlsp3_blacklisted');
	add_submenu_page('statpress3', 'Info', 'Info', 'manage_options', 'dlsp3_info', 'dlsp3_info');
	remove_submenu_page("statpress3", "statpress3");
}


function dlsp3_info() {
	dlsp3_pagetitle("Info");
	$info = dlsp3_dirsize(substr(dlsp3_datapath(),0,-1));
	$data = array();
	$data[] = ['title' => 'Data path',   'value' => dlsp3_datapath()];
	$data[] = ['title' => 'Data size',   'value' => intval($info['size']/1024) . " Kb"];
	$data[] = ['title' => 'Data volume', 'value' => $info['howmany_files'] . " days in " . $info['howmany']. " slots"];
	dlsp3_flextable($data,array(dlsp3_tra('Object') => '{title}',dlsp3_tra('Value') => '{value}'));
}


function dlsp3_pagetitle($title) {
	echo '<div class="wrap"><h1 class="wp-heading-inline">' . esc_html($title) . '</h1></div>';
}


function dlsp3_calendar($page) {
	echo '<br><div class="wrap">';
	$years = glob(dlsp3_datapath().'*');
	foreach($years as $y) {
        $year = intval(basename($y));
		if(is_dir($y) && $year >= 2022 && $year <= 2030) {
			echo "<div style='margin-bottom:5px;'><a class='button' href='?page=$page&date=$year'>$year</a>";
			$months = glob($y.'/*');
			if(count($months) > 0) {
				echo "<span style='margin:10px;'></span>";
				foreach($months as $m) {
                    $month = basename($m);
					if(is_dir($m) && $month >= 1 && $month <=12) {
						echo "<a class='button' href='?page=$page&date=$year/$month'>".dlsp3_monthname($month)."</a> ";
					}
				}
				if($year == date('Y')) {
					$yesterday = new DateTime('yesterday');
					echo "<span style='margin:10px;'></span>";
					echo "<a style='' class='button' href='?page=$page&date=" . $yesterday->format('Y/m/d') . "'>".dlsp3_tra('Yesterday')."</a> ";
					echo "<a style='font-weight:bold;' class='button' href='?page=$page&date=" . date('Y/m/d') . "'>".dlsp3_tra('Today')."</a>";
				}
			}
			echo "</div>";
		}
	}
	echo '</div><br>';	
}


function dlsp3_visitdetails($id) { # 20220214204
	$page = 'dlsp3_dataviewer';
	dlsp3_pagetitle("Visit details");
	$fname = dlsp3_datapath() . substr($id,0,4) . '/' . substr($id,4,2) . '/' . substr($id,6,2) . '.jsonl';
	if(!file_exists($fname)) {
        dlsp3_message("File $fname not found!",true);
		exit;
	}
	$row = intval(substr($id,8));
    if(!file_exists($fname)) {
        dlsp3_message("File $fname not found!",1);
        exit;
    }
	$file = fopen($fname, "r");
    $linecount = 0;
    $r = '';
    while(!feof($file)){
        $linecount++;
        $r_json = fgets($file);
        if ($linecount == $row) {
            $r = json_decode($r_json,true);
            break;
        }
    }
    if($r == '') {
        dlsp3_message("Visit ID $id not found!",true);
        exit;
    }
	$r = dlsp3_visitprocessing($r);

	$data = array();
	$data[] = ['title' => 'Date',   'value' => $r['date'], 'options' => ''];
	$data[] = ['title' => 'Time',   'value' => $r['time'], 'options' => ''];
	$data[] = ['title' => 'IP', 'value' => $r['ip'], 'options' => '<a class="button" href="?page='.$page.'&a=ba&o=ip&v='.base64_encode($r['ip']).'">Add to blacklist</a>'];
	if($r['u'] != '') {
		$data[] = ['title' => 'WP logged user name', 'value' => $r['username'], 'options' => ''];
		$data[] = ['title' => 'WP logged user id', 'value' => $r['u'], 'options' => '<a class="button" href="?page='.$page.'&a=ba&o=u&v='.base64_encode($r['u']).'">Add to blacklist</a>'];
	}
	$data[] = ['title' => 'Country', 'value' => $r['ll'], 'options' => ''];
	$data[] = ['title' => 'OS', 'value' => $r['os'], 'options' => ''];
	$data[] = ['title' => 'Browser', 'value' => $r['browser'], 'options' => ''];
	$data[] = ['title' => 'User-agent', 'value' => $r['useragent'],'options' => '<a class="button" href="?page='.$page.'&a=ba&o=useragent&v='.base64_encode($r['useragent']).'">Add to blacklist</a>'];
	$data[] = ['title' => 'PostID', 'value' => $r['postid'], 'options' => ''];
	$data[] = ['title' => 'URL', 'value' => $r['url'], 'options' => ''];
	$data[] = ['title' => 'Referrer', 'value' => $r['referrer'], 'options' => ''];
	dlsp3_flextable($data,array(dlsp3_tra('Object:40px') => '{title}',dlsp3_tra('Value:150px') => '{value}',dlsp3_tra(':90px') => '{options}'));
}


function dlsp3_applyblacklist($r) {
	$data = @file_get_contents(dlsp3_blackfile());  
	$data = json_decode($data, true);
	if(is_array($data['ip'])) {
		foreach($data['ip'] as $v) {
			if($r['ip'] == $v) { return false; }
		}
	}
	if(is_array($data['useragent'])) {
		foreach($data['useragent'] as $v) {
			if($r['useragent'] == $v) { return false; }
		}
	}
	if(is_array($data['u'])) {
		foreach($data['u'] as $v) {
			if($r['u'] == $v) { return false; }
		}
	}
	return true;
}


function dlsp3_blacklisted() {
    $a = isset($_GET['a']) ? strtolower($_GET['a']) : '';
	if ($a == 'br') { // remove and continue displaying...
        $o = isset($_GET['o']) ? strtolower($_GET['o']) : '';
        if (in_array($o, array('useragent','u','ip'))) {
            $v = isset($_GET['v']) ? dlsp3_clean(base64_decode($_GET['v'])) : '';
            if($v != '') {
                dlsp3_blacklist_remove($o,$v);
                dlsp3_message("$o removed!");
            } else {
                dlsp3_message("No value for $o object! Blacklist in unchanged.",true);
                exit;
            }
        } else {
            dlsp3_message("Unknow object type to add! Blacklist in unchanged.",true);
            exit;
        }
	}
	$page = __FUNCTION__;
	dlsp3_pagetitle("Blacklisted");
	$data = @file_get_contents(dlsp3_blackfile());  
	$data = json_decode($data, true);

    if(is_array($data['ip'])) {
    	echo "<h2>IP</h2>";
    	$section = array();
    	foreach($data['ip'] as $v) {
    		$section[] = ['value' => $v, 'options' => '<a class="button" href="?page='.$page.'&a=br&o=ipt&v='.base64_encode($v).'">Remove</a>'];
    	}
    	dlsp3_flextable($section,array(dlsp3_tra('Value:40px') => '{value}',dlsp3_tra(':90px') => '{options}'));
    }

    if(is_array($data['useragent'])) {
    	echo "<h2>User agent</h2>";
    	$section = array();
        $list = $data['useragent'];
        asort($list);
    	foreach($list as $v) {
    		$section[] = ['value' => $v, 'options' => '<a class="button" href="?page='.$page.'&a=br&o=useragent&v='.base64_encode($v).'">Remove</a>'];
    	}
    	dlsp3_flextable($section,array(dlsp3_tra('Value:40px') => '{value}',dlsp3_tra(':90px') => '{options}'));
    }

    if(is_array($data['u'])) {
    	echo "<h2>User</h2>";
    	$section = array();
    	foreach($data['u'] as $v) {
    		$section[] = ['value' => dlsp3_getuserbyid($v), 'options' => '<a class="button" href="?page='.$page.'&a=br&o=u&v='.base64_encode($v).'">Remove</a>'];
    	}
    	dlsp3_flextable($section,array(dlsp3_tra('Value:40px') => '{value}',dlsp3_tra(':90px') => '{options}'));
    }
}

function dlsp3_blacklist_add($obj,$value) {
	$data = @file_get_contents(dlsp3_blackfile());  
	$data = json_decode($data, true);
	$data[$obj][] = $value;
	file_put_contents(dlsp3_blackfile(), json_encode($data));
	dlsp3_pagetitle("Blacklisted");
    dlsp3_message("<b>Added to blacklist!</b><br><br>Click <a href='?page=dlsp3_blacklisted'>here</a> to view it!");
}

function dlsp3_blacklist_remove($obj,$value) {
	$data = @file_get_contents(dlsp3_blackfile());  
	$data = json_decode($data, true);
	for($i=0;$i<=count($data[$obj]);$i++) {
		if($data[$obj][$i] == $value) { unset($data[$obj][$i]); break; }
	}
	file_put_contents(dlsp3_blackfile(), json_encode($data));
}

function dlsp3_dataviewer($time) {
    $a = isset($_GET['a']) ? strtolower($_GET['a']) : '';
	if($a == 'd') {
        $id = isset($_GET['id']) ? intval($_GET['id']) : 0;
		dlsp3_visitdetails($id);
	} elseif ($a == 'ba') {
        $o = isset($_GET['o']) ? strtolower($_GET['o']) : '';
        if (in_array($o, array('useragent','u','ip'))) {
            $v = isset($_GET['v']) ? dlsp3_clean(base64_decode($_GET['v'])) : '';
            if(strlen($v) > 0) {
                dlsp3_blacklist_add($o,$v);
            }
        }
	} else {
        if($time != '') { $date = $time; } else { $date = dlsp3_checkdate($_GET['date']); }
		$page = __FUNCTION__;
		dlsp3_pagetitle("Real time report: $date");
		dlsp3_calendar($page);
		$r = dlsp3_load_data($date, array("postid"=> ['>','0'])  );
		dlsp3_flextable($r,array('Date:50px' => '{date}','Time:40px' => '{time}','User/IP:80px' => '<b>{username}</b> {ip}','Country:30px' => '{ll}','Client:250px' => '<div style="display:table;vertical-align:middle;">{ICON_os}<span style="display:table-cell;;vertical-align:middle;">&nbsp;{os}&nbsp;&nbsp;</span>{ICON_browser}<span style="display:table-cell;;vertical-align:middle;">&nbsp;{browser}</span></div>','Post:30px' => '{postid}','Requested URL / Referrer:250px' => '<small>{url}<br>{ICON_referrer} {referrer}</small>','id:30px' => '<a class="button" href="?page=dlsp3_dataviewer&a=d&id={id}">Details</a>')); // render the table
	}
}

function dlsp3_searches($time) {
	global $sp3_icons;
    if($time != '') { $date = $time; } else { $date = dlsp3_checkdate($_GET['date']); }
	$page = __FUNCTION__;
	dlsp3_pagetitle("Searches: $date");
	dlsp3_calendar($page);
	$r = dlsp3_load_data($date, array("url" => ['^','s='])  );
	dlsp3_flextable($r,array('Date:50px' => '{date}','Time:40px' => '{time}','User/IP:80px' => '<b>{username}</b> {ip}','Country:30px' => '{ll}','Search:400px' => '{search_phrase}')); // render the table
}

function dlsp3_checkdate($date) {  # 2022, 2022/02, 2022/02/22 else this month
    if( (strlen($date) == 4) && (intval($date) >= 2022) && (intval($date) <= date('Y')) ) {
        // year, ok
    } elseif( (strlen($date) == 7) && checkdate(substr($date,5,2), 1, substr($date,0,4)) ) {
        // year/month, ok
    } elseif( (strlen($date) == 10) ) {
        list($y,$m,$d) = explode('/',$date);
        if(!checkdate($m,$d,$y)) { $date = ''; } // valid, if...
    } else {
        $date = ''; // invalid date
    }
    if($date == '') { $date = date('Y/m'); }
    return $date;
}


function dlsp3_compare_arr($a, $b) {
    return $a['cnt'] < $b['cnt'];
}


function dlsp3_tops($time) {
    if($time != '') { $date = $time; } else { $date = dlsp3_checkdate($_GET['date']); }
    $page = __FUNCTION__;
    dlsp3_pagetitle("Tops: $date");
    dlsp3_calendar($page);
    $r = dlsp3_load_data($date, array("postid"=> ['>','0'])  );

    dlsp3_topchart("Days",dlsp3_topdays($date,$r));
    dlsp3_topchart("Pageviews",dlsp3_toppageviews($date,$r));
    dlsp3_topchart("Unique visitors",dlsp3_topuniquevisitors($date,$r));
    dlsp3_topchart("Languages",dlsp3_toplang($date,$r));
    dlsp3_topchart("Countries",dlsp3_topcountries($date,$r));
    dlsp3_topchart("OS",dlsp3_topgeneric($date,$r,'os'));
    dlsp3_topchart("Browsers",dlsp3_topgeneric($date,$r,'browser'));
}

function dlsp3_topchart($title,$data) {
    $max = reset($data)['cnt']; $ratio = 98/$max;
    echo '<div style="padding:10px;border:1px solid gray;background:white;"><h2>' . esc_html($title) . '</h2><hr>';
    foreach($data as $select) {
        if($select['cnt'] > 1) {
            echo "<div style='border-radius: 10px 20px 20px 0px;width:" . ((int) $select['cnt'] * (int) $ratio) . "%;background-color:#2271b1;background-image: -webkit-linear-gradient(left, #2271b1 0%, #A3D6FF " . ($max*100/$select['cnt']) . "%);color:white;font-size:12pt;padding:5px;'>".$select['cnt']."</div>";
            echo "<div style='border-radius: 0px 10px 20px 10px;display: inline-block;background-color:#eeeeee;color:#003368;font-size:9pt;padding:5px;margin-bottom:7px;'>";
            if($select['url'] != '') { echo "<a href='".$select['url']."'>"; }
            echo esc_html($select['label']);
            if($select['url'] != '') { echo "</a>"; }
            echo "</div>";
        }
    }
    echo '</div><br>';
}


function dlsp3_topgeneric($time,$r,$field) {
    $stat = array();
    foreach($r as $visit) {
        if(isset($visit[$field]) && ($visit[$field] != '')) {
            $stat[$visit[$field]] = [ 'cnt' => $stat[$visit[$field]]['cnt'] + 1, 'label' => $visit[$field], 'url' => '' ];
        }
    }
    usort($stat, 'dlsp3_compare_arr');
    return $stat;
}


function dlsp3_topdays($time,$r) {
    $stat = array();
    foreach($r as $visit) {
        $stat[$visit['date']] = [ 'cnt' => $stat[$visit['date']]['cnt'] + 1, 'label' => date(get_option('date_format'),strtotime($visit['date'])), 'url' => "?page=dlsp3_dataviewer&date=" . date('Y/m/d',strtotime($visit['date'])) ];
    }
    usort($stat, 'dlsp3_compare_arr');
    return $stat;
}


function dlsp3_topcountries($time,$r) {
    $stat = array();
    foreach($r as $visit) {
        if(trim($visit['ll']) != '') {
            list($l,$c) = explode('-',strtolower($visit['ll']));
            if($c == '') { $c = $l; }
            $stat[$c] = [ 'cnt' => $stat[$c]['cnt'] + 1, 'label' => $c, 'url' => '' ];
        }
    }
    usort($stat, 'dlsp3_compare_arr');
    return($stat);
}

function dlsp3_toplang($time,$r) {
    $stat = array();
    foreach($r as $visit) {
        if(trim($visit['ll']) != '') {
            list($l,$c) = explode('-',strtolower($visit['ll']));
            if($l == '') { $l = $c; }
            $stat[$l] = [ 'cnt' => $stat[$l]['cnt'] + 1, 'label' => $l, 'url' => '' ];
        }
    }
    usort($stat, 'dlsp3_compare_arr');
    return($stat);
}


function dlsp3_toppageviews($time,$r) {
	$stat = array();
	foreach($r as $visit) {
        $postid = $visit['postid'];
        $stat[$postid] = [ 'cnt' => $stat[$postid]['cnt'] + 1, 'label' => "[".$postid."] ".get_the_title($postid), 'url' => get_post_permalink($postid) ];
	}
	usort($stat, 'dlsp3_compare_arr');
    return($stat);
}


function dlsp3_topuniquevisitors($time,$r) {
    $prestat = array();
    foreach($r as $visit) {
        $prestat[$visit['postid'] . '|' . $visit['ip']] = 1; // one ip, one visit
    }
    $stat = array();
    foreach($prestat as $k => $v) {
        list($postid,$ip) = explode('|',$k);
        $stat[$postid] = [ 'cnt' => $stat[$postid]['cnt'] + 1, 'label' => "[".$postid."] ".get_the_title($postid), 'url' => get_post_permalink($postid) ];
    }
    usort($stat, 'dlsp3_compare_arr');
    return($stat);
}



function dlsp3_spy($time) {
	global $sp3_icons;
    if($time != '') { $date = $time; } else { $date = dlsp3_checkdate($_GET['date']); }
	$r = dlsp3_load_data($date, array("postid"=> ['>','0'])  );
	$page = __FUNCTION__;
	dlsp3_pagetitle("Spy - $date");
	dlsp3_calendar($page);
	$stat = array();
	foreach($r as $visit) {
		$stat[$visit['ip'].'_'.$visit['u']][] = $visit;
	}
	ksort($stat);
	$last = '';
	foreach($stat as $k => $r) {
		if(count($r) > 1) {
			echo "<table border=0><tr><td style='font-size:14pt;'><b>" . esc_html($r[0]['ip']) . '</b> ' . esc_html($r[0]['username']) . " (".esc_html($r[0]['ll']).")" . "</td>";
			echo '<td style="width:30px;padding:7px;"><center>';
			echo '<img style="display:table-cell;vertical-align:middle;width:16px;" src="' . $sp3_icons[esc_attr($r[0]['os'])] . '"> ' . esc_html($r[0]['os']);
			echo '</center></td><td style="width:30px;padding:7px;"><center>';
			echo '<img style="display:table-cell;vertical-align:middle;width:16px;" src="' . $sp3_icons[esc_attr($r[0]['browser'])] . '"> ' . esc_html($r[0]['browser']);
			echo '</center></td></tr></table>';
			dlsp3_flextable($r,array('Date:40px' => '{date}','Time:40px' => '{time}','Page:300px' => '{url}'));
			echo "<br>";
		}
	}
}






function dlsp3_eval_condition($f,$op,$value) {
	switch($op) {
		case '>': return $f > $value;
		case '<': return $f < $value;
		case '=': return $f == $value;
		case '^': return substr($f,0,strlen($value)) == $value;
	}
}

function dlsp3_getuserbyid($id) {
	$user = get_user_by('id', $id);
	return $user->first_name . ' ' . $user->last_name; # '<a href="' . admin_url( 'user-edit.php?user_id=' . $id, 'http' ) . '">' . $name . '</a>';
}


function dlsp3_visitprocessing($r) {
	# parse url
	if ($r['url'] == '') { $r['url'] = 'Homepage'; }
	# parse user-agent
	$r['os'] = ''; $r['browser'] = '';
	if (preg_match("/\(Windows/", $r['useragent']) ||
		preg_match("/Windows;/", $r['useragent']) 
		) { $r['os'] = 'Windows'; }
	if (preg_match("/\(iPhone/", $r['useragent']) ||
		preg_match("/\(iPad/", $r['useragent']) ||
		preg_match("/\(iPod/", $r['useragent']) 
		) { $r['os'] = 'iOS'; }
	if (preg_match("/\(Macintosh/", $r['useragent'])) { $r['os'] = 'macOS'; }
	if (preg_match("/\(Linux.*; Android/", $r['useragent'])) { $r['os'] = 'Android'; }
	if (preg_match("/\(X11/", $r['useragent'])) { $r['os'] = 'Linux'; }

	if (preg_match("/CriOS\//", $r['useragent']) ||
		preg_match("/CriOS\//", $r['useragent'])
		) { $r['browser'] = 'Chrome'; }

	if (preg_match("/Opera\//", $r['useragent']) 
		) { $r['browser'] = 'Opera'; }

	if (preg_match("/Edg\//", $r['useragent']) ||
		preg_match("/EdgiOS\//", $r['useragent'])
		) { $r['browser'] = 'Edge'; }

	if (preg_match("/Gecko\//", $r['useragent']) &&
		preg_match("/Firefox\//", $r['useragent'])
			) { $r['browser'] = 'Firefox'; }

	if (preg_match("/;MSIE/", $r['useragent']) )  { $r['os'] = 'Windows'; $r['browser'] = 'Internet Explorer'; }

	if (preg_match("/duckduckgo/", $r['useragent'])) { $r['browser'] = 'DuckDuckGo'; }
	if (preg_match("/WhatsApp\//", $r['useragent'])) { $r['browser'] = 'WhatsApp'; }
	if (preg_match("/facebookexternalhit/", $r['useragent'])) { $r['browser'] = 'Facebook'; }
	if (preg_match("/YaBrowser\//", $r['useragent'])) { $r['browser'] = 'Yandex'; }

	if ( $r['os'] == 'Windows' && $r['browser'] == '' && preg_match("/Chrome\//", $r['useragent']) )  { $r['browser'] = 'Chrome'; }
	if ( $r['os'] == 'macOS' && $r['browser'] == '' && preg_match("/Safari\//", $r['useragent']) )  { $r['browser'] = 'Safari'; }
	if ( $r['os'] == 'iOS' && $r['browser'] == '' && preg_match("/Safari\//", $r['useragent']) )  { $r['browser'] = 'Safari'; }
	if ( $r['os'] == 'Linux' && $r['browser'] == '' && preg_match("/Chrome\//", $r['useragent']) )  { $r['browser'] = 'Chrome'; }

	# parse referrer
	if (rtrim($r['referrer'],"/") == site_url()) { $r['referrer'] = 'Homepage'; }
	if (preg_match("/google/", $r['referrer'])) { $r['referrer'] = 'Google'; }
	if (preg_match("/bing/", $r['referrer'])) { $r['referrer'] = 'Bing'; }

	# check user logged
	if (intval(@$r['u']) > 0) {
		$r['username'] = dlsp3_getuserbyid(intval($r['u']));
	} else {
		$r['username'] = '';
	}

	# search phrase
	if(substr($r['url'],0,2) == 's=') {
		$r['search_phrase'] = str_replace('+',' ',substr($r['url'],2,50));
	}

	return $r;
}


function dlsp3_load_data($time,$filter = '') { // 2022/01 ...or... 2022 ...or... 2022/01/16
	$files = array();
	// considera di dover lavorare sempre una lista
	// un anno quando richiesto e' una lista di mesi, altrimenti sara' un array di un solo elemento
	$list = array();
	if(strlen($time) == 4) {
		$globbed = glob(dlsp3_datapath() . $time . '/*'); /// se e' un anno prende tutti i mesi contenuti
		$list = array_map(function($val) use($time) { return $time . '/' . basename($val); },$globbed);
	} else {
		$list[] = $time;
	}
	foreach($list as $time) {
		if(is_dir(dlsp3_datapath() . $time)) {
			$files = glob(dlsp3_datapath() . $time . '/*.jsonl');
		} else {
			$files[] = dlsp3_datapath() . $time . '.jsonl';
		}
		foreach($files as $dayfile) {
			if(!file_exists($dayfile)) { return ''; } // file not found!
			$file = fopen($dayfile, "r");
			if ($file === false) { return ''; } // error opening file!
			$rn = 0;
			while(!feof($file)) {
				$rn++;
        		$r_json = fgets($file);
				$r = json_decode($r_json,true);
				// apply filter
				$valid = true;
				foreach ($filter as $f => $condition) {
					$valid = dlsp3_eval_condition($r[$f], $condition[0], $condition[1]);
				}
				if(!$valid) { continue; }  // next record in condition results false
				// filter valid, but black listed?
				$valid = dlsp3_applyblacklist($r);
				if($valid) {
					$r['id'] = str_replace(dlsp3_datapath(),'',$dayfile);
					$r['id'] = substr($r['id'],0,-6);
					$r['id'] = str_replace('/','',$r['id']);
					$r['id'] .= $rn;
					$r = dlsp3_visitprocessing($r);
					# add data
					$json[] = $r;
				}
			}
		}
	}
	return $json;
}


function dlsp3_flextable($data,$cols) {
	global $sp3_icons;
	if(!is_array($data)) { _e("No data"); return; }
	echo '<table class="wp-list-table widefat fixed striped table-view-list posts">';
	echo "<thead><tr>";
		foreach($cols as $k => $v) {
			list($label,$width) = explode(':',$k);
			echo '<th style="width:'.$width.';">'.dlsp3_tra($label).'</th>';
		}
	echo "</tr></thead>";
	echo '<tbody id="the-list">';
	// crea la riga
	foreach($cols as $k => $v) {
		$tr.="<td>" . $v . "</td>";
	}
	foreach($data as $progr => $line) {
		$riga = $tr;
		foreach($line as $k => $v) {
			if($k == 'date') { $v = date(get_option('date_format'),strtotime($v)); }
			$riga = str_replace('{' . $k . '}', $v, $riga);
			if(isset($sp3_icons[$v])) {
				$riga = str_replace('{ICON_' . $k . '}', '<span><img style="display:table-cell;;vertical-align:middle;width:16px;" src="' . $sp3_icons[$v] . '"></span>', $riga);
			} else {
				$riga = str_replace('{ICON_' . $k . '}', '', $riga);
			}
		}
		echo "<tr>$riga</tr>";
	}
	echo "</tbody></table>";
}


function dlsp3_403() {
	wp_die ( 'Page removed', 'StatPress hates boring crawlers, sorry!', array ('response' => 403) );
	exit();
}

?>
